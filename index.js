// ============== å¼·åˆ¶ä¸å›žæ‡‰åˆ—è¡¨ ==============
const ignoredKeywords = ["å¸¸è¦‹å•é¡Œ", "æœå‹™åƒ¹ç›®&å„²å€¼å„ªæƒ ", "åˆ°åºœæ”¶é€", "åº—é¢åœ°å€&ç‡Ÿæ¥­æ™‚é–“", "ä»˜æ¬¾æ–¹å¼", "å¯¶å¯¶æ±½åº§&æ‰‹æŽ¨è»Š", "é¡§å®¢é ˆçŸ¥", "æ™ºèƒ½æ±¡æ¼¬åˆ†æž", "è¬è¬", "æ‚¨å¥½", "æŒ‰éŒ¯"];

// ============== å¼•å…¥ä¾è³´ ==============
const express = require('express');
const { createHash } = require('crypto');
const { Client } = require('@line/bot-sdk');
const { OpenAI } = require('openai');
const fs = require('fs');
const path = require('path');
require('dotenv').config();

// åˆå§‹åŒ– Express æ‡‰ç”¨ç¨‹å¼
const app = express();
app.use(express.json());

// åˆå§‹åŒ– LINE å®¢æˆ¶ç«¯
const client = new Client({
    channelAccessToken: process.env.LINE_CHANNEL_ACCESS_TOKEN,
    channelSecret: process.env.LINE_CHANNEL_SECRET
});

// åˆå§‹åŒ– OpenAI å®¢æˆ¶ç«¯
const openaiClient = new OpenAI({
    apiKey: process.env.OPENAI_API_KEY
});

// ç”¨æˆ¶ç‹€æ…‹å­˜å„²
const userState = {};
const store = new Map();

// è¨­ç½®æœ€å¤§ä½¿ç”¨æ¬¡æ•¸å’Œæ™‚é–“é€±æœŸ
const MAX_USES_PER_USER = process.env.MAX_USES_PER_USER || 2;
const MAX_USES_TIME_PERIOD = process.env.MAX_USES_TIME_PERIOD || 604800; // 604800ç§’ç‚ºä¸€å‘¨

const COMBINED_INQUIRY_DATA = [
    {
        "zh-TW": {
            keywords: ["åƒ¹æ ¼", "ä»·éŒ¢", "æ”¶è²»", "è²»ç”¨", "å¤šå°‘éŒ¢", "åƒ¹ä½", "ç®—éŒ¢", "æ¸…æ´—è²»", "åƒ¹ç›®è¡¨", "é€™ä»¶å¤šå°‘", "é€™å€‹åƒ¹æ ¼", "éž‹å­è²»ç”¨", "æ´—éž‹éŒ¢", "è¦å¤šå°‘", "æ€Žéº¼ç®—", "çª—ç°¾è²»ç”¨"],
            response: "å¯ä»¥åƒè€ƒæˆ‘å€‘çš„æœå‹™åƒ¹ç›®è¡¨æˆ–ç”±å®¢æœè·Ÿæ‚¨å›žè¦†ðŸ“‹"
        },
        "zh-CN": {
            keywords: ["ä»·æ ¼", "ä»·é’±", "æ”¶è´¹", "è´¹ç”¨", "å¤šå°‘é’±", "ä»·ä½", "ç®—é’±", "æ¸…æ´—è´¹", "ä»·ç›®è¡¨", "è¿™ä»¶å¤šå°‘", "è¿™ä¸ªä»·æ ¼", "éž‹å­è´¹ç”¨", "æ´—éž‹é’±", "è¦å¤šå°‘", "æ€Žä¹ˆç®—", "çª—å¸˜è´¹ç”¨"],
            response: "å¯ä»¥å‚è€ƒæˆ‘ä»¬çš„æœåŠ¡ä»·ç›®è¡¨æˆ–ç”±å®¢æœè·Ÿæ‚¨å›žå¤ðŸ“‹"
        },
        "en": {
            keywords: ["price", "prices", "cost", "how much", "price list", "pricing", "quotation", "quote", "cleaning fee", "how much for", "what's the price"],
            response: "Please refer to our price list or our customer service will reply to you. ðŸ“‹"
        },
        "ja": {
            keywords: ["ä¾¡æ ¼", "å€¤æ®µ", "æ–™é‡‘", "è²»ç”¨", "ã„ãã‚‰", "æ–™é‡‘è¡¨", "å€¤æ®µã¯", "ãŠã„ãã‚‰"],
            response: "æ–™é‡‘è¡¨ã‚’ã”ç¢ºèªã„ãŸã ãã‹ã€ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã¾ã›ðŸ“‹"
        },
        "ko": {
            keywords: ["ê°€ê²©", "ê°€ê²©í‘œ", "ìš”ê¸ˆ", "ë¹„ìš©", "ì–¼ë§ˆì˜ˆìš”", "ì–¼ë§ˆ", "ê°€ê²©ë¬¸ì˜"],
            response: "ê°€ê²©í‘œë¥¼ ì°¸ê³ í•˜ì‹œê±°ë‚˜ ê³ ê°ì„¼í„°ë¡œ ë¬¸ì˜í•´ ì£¼ì‹­ì‹œì˜¤ðŸ“‹"
        }
    },
    {
        "zh-TW": {
            keywords: ["ç‡Ÿæ¥­æ™‚é–“", "ç‡Ÿæ¥­", "é–‹é–€æ™‚é–“", "é–‹é–€", "å¹¾é»žé–‹é–€", "ç‡Ÿæ¥­åˆ°å¹¾é»ž", "é–‹åˆ°å¹¾é»ž", "ä»Šå¤©ç‡Ÿæ¥­", "ä»Šå¤©é–‹é–€"],
            response: "ä»Šæ—¥æœ‰ç‡Ÿæ¥­çš„ðŸ’–æˆ‘å€‘çš„ç‡Ÿæ¥­æ™‚é–“ç‚º 10:30 - 20:00ï¼Œé™¤é€±å…­å›ºå®šå…¬ä¼‘å–”ï¼ðŸ˜Š"
        },
        "zh-CN": {
            keywords: ["è¥ä¸šæ—¶é—´", "è¥ä¸š", "å¼€é—¨æ—¶é—´", "å¼€é—¨", "å‡ ç‚¹å¼€é—¨", "è¥ä¸šåˆ°å‡ ç‚¹", "å¼€åˆ°å‡ ç‚¹", "ä»Šå¤©è¥ä¸š", "ä»Šå¤©å¼€é—¨"],
            response: "ä»Šæ—¥æœ‰è¥ä¸šçš„ðŸ’–æˆ‘ä»¬çš„è¥ä¸šæ—¶é—´ä¸º 10:30 - 20:00ï¼Œé™¤å‘¨å…­å›ºå®šå…¬ä¼‘å–”ï¼ðŸ˜Š"
        },
        "en": {
            keywords: ["business hours", "opening hours", "open time", "are you open", "open today", "what time do you open", "ç‡Ÿæ¥­æ™‚é–“"],
            response: "We are open today! ðŸ’– Our business hours are 10:30 AM - 8:00 PM, except for Saturdays when we are closed. ðŸ˜Š"
        },
        "ja": {
            keywords: ["å–¶æ¥­æ™‚é–“", "å–¶æ¥­", "é–‹åº—æ™‚é–“", "é–‹åº—", "ä½•æ™‚é–‹åº—", "ä½•æ™‚ã¾ã§å–¶æ¥­", "ä»Šæ—¥å–¶æ¥­", "ä»Šæ—¥é–‹åº—"],
            response: "æœ¬æ—¥ã¯å–¶æ¥­ã—ã¦ãŠã‚Šã¾ã™ðŸ’–å–¶æ¥­æ™‚é–“ã¯10:30ï½ž20:00ã§ã™ã€‚åœŸæ›œæ—¥ã¯å®šä¼‘æ—¥ã§ã™ðŸ˜Š"
        },
        "ko": {
            keywords: ["ì˜ì—…ì‹œê°„", "ì˜ì—…", "ì˜ì—… ì¤‘", "ëª‡ ì‹œ ì˜¤í”ˆ", "ì˜¤ëŠ˜ ì˜ì—…", "ì˜¤ëŠ˜ í•˜ë‚˜ìš”", "ì—¬ëŠ” ì‹œê°„", "ë¬¸ ì—¬ëŠ” ì‹œê°„"],
            response: "ì˜¤ëŠ˜ ì˜ì—…í•©ë‹ˆë‹¤! ðŸ’– ì˜ì—… ì‹œê°„ì€ ì˜¤ì „ 10ì‹œ 30ë¶„ë¶€í„° ì˜¤í›„ 8ì‹œê¹Œì§€ì´ë©°, í† ìš”ì¼ì€ ì •ê¸° íœ´ë¬´ìž…ë‹ˆë‹¤. ðŸ˜Š"
        }
    },
    {
        "zh-TW": {
            "keywords": ["æ€¥ä»¶", "åŠ æ€¥", "å¿«ä¸€é»ž", "è¶•æ™‚é–“", "ä¾†å¾—åŠå—Ž", "å¹¾å¤©", "å¤šä¹…", "æ€¥å–®"],
            "response": "ä¸å¥½æ„æ€ï¼Œæ¸…æ½”éœ€è¦ä¸€å®šçš„å·¥ä½œæ—¥ï¼Œè«‹èˆ‡å®¢æœç¢ºèªæ™‚é–“å–” â³"
        },
        "zh-CN": {
            "keywords": ["æ€¥ä»¶", "åŠ æ€¥", "å¿«ä¸€ç‚¹", "èµ¶æ—¶é—´", "æ¥å¾—åŠå—", "å‡ å¤©", "å¤šä¹…", "æ€¥å•"],
            "response": "ä¸å¥½æ„æ€ï¼Œæ¸…æ´éœ€è¦ä¸€å®šçš„å·¥ä½œæ—¥ï¼Œè¯·ä¸Žå®¢æœç¡®è®¤æ—¶é—´å–” â³"
        },
        "en": {
            "keywords": ["urgent", "rush order", "rush service", "how soon", "quickly", "fast", "urgent order"],
            "response": "Sorry, urgent orders may not be possible as cleaning requires processing time. Please check with customer service for availability. â³"
        },
        "ja": {
            "keywords": ["æ€¥ãŽ", "ç‰¹æ€¥", "æ—©ã‚ã«", "æ—©ã", "é–“ã«åˆã„ã¾ã™ã‹", "ä½•æ—¥", "ã„ã¤ã¾ã§ã«", "æ€¥ãŽã®æ³¨æ–‡"],
            "response": "ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€ãŠæ€¥ãŽã®ã”ä¾é ¼ã§ã™ã¨å¯¾å¿œã§ããªã„å ´åˆãŒã”ã–ã„ã¾ã™ã€‚ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã«ã¯ä½œæ¥­æ—¥æ•°ãŒã‹ã‹ã‚Šã¾ã™ã®ã§ã€ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã«ã”ç¢ºèªãã ã•ã„â³"
        },
        "ko": {
            "keywords": ["ê¸´ê¸‰", "ê¸‰í•˜ê²Œ", "ë¹¨ë¦¬", "ì„œë‘˜ëŸ¬", "ë¹¨ë¦¬ ë¼ìš”?", "ë©°ì¹  ê±¸ë ¤ìš”?", "ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?", "ê¸‰í•œ ì£¼ë¬¸"],
            "response": "ì£„ì†¡í•©ë‹ˆë‹¤, ê¸‰í•œ ì£¼ë¬¸ì€ ì–´ë ¤ìš¸ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì„¸íƒì—ëŠ” ìž‘ì—… ì‹œê°„ì´ í•„ìš”í•˜ë¯€ë¡œ ê³ ê° ì„¼í„°ì— ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ë¬¸ì˜í•´ ì£¼ì„¸ìš” â³"
        }
    },
    {
        "zh-TW": {
            "keywords": ["å¦‚ä½•ä»˜æ¬¾", "å„²å€¼", "ä»˜è²»", "ä»˜æ¬¾", "æ”¯ä»˜", "çµ¦éŒ¢", "æ”¶æ¬¾", "æ”¶éŒ¢", "æ€Žéº¼ä»˜æ¬¾", "ä»˜éŒ¢æ–¹å¼", "ä»˜æ¬¾æ–¹å¼", "æ”¯ä»˜æ–¹å¼"],
            "response": "æˆ‘å€‘æä¾›ç¾é‡‘ðŸ’µã€éŠ€è¡Œè½‰å¸³ðŸ¦ã€ç·šä¸ŠLine PayðŸ“±ã€ä¿¡ç”¨å¡ðŸ’³ç­‰å¤šç¨®ä»˜æ¬¾æ–¹å¼ã€‚"
        },
        "zh-CN": {
            "keywords": ["å¦‚ä½•ä»˜æ¬¾", "å‚¨å€¼", "ä»˜è´¹", "ä»˜æ¬¾", "æ”¯ä»˜", "ç»™é’±", "æ”¶æ¬¾", "æ”¶é’±", "æ€Žä¹ˆä»˜æ¬¾", "ä»˜é’±æ–¹å¼", "ä»˜æ¬¾æ–¹å¼", "æ”¯ä»˜æ–¹å¼"],
            "response": "æˆ‘ä»¬æä¾›çŽ°é‡‘ðŸ’µã€é“¶è¡Œè½¬è´¦ðŸ¦ã€çº¿ä¸ŠLine PayðŸ“±ã€ä¿¡ç”¨å¡ðŸ’³ç­‰å¤šç§ä»˜æ¬¾æ–¹å¼ã€‚"
        },
        "en": {
            "keywords": ["how to pay", "payment methods", "payment options", "how to make payment", "pay", "fees", "billing", "payment"],
            "response": "We accept various payment methods including cash ðŸ’µ, bank transfer ðŸ¦, online payment (Line Pay ðŸ“±), and credit card ðŸ’³."
        },
        "ja": {
            "keywords": ["æ”¯æ‰•ã„æ–¹æ³•", "æ”¯æ‰•ã„", "æ”¯æ‰•ã†ã«ã¯", "æ–™é‡‘", "æ”¯æ‰•ã„æ–¹ã¯", "ã©ã†ã‚„ã£ã¦æ‰•ã†", "æ”¯æ‰•æ–¹æ³•", "æ±ºæ¸ˆæ–¹æ³•"],
            "response": "ç¾é‡‘ðŸ’µã€éŠ€è¡ŒæŒ¯è¾¼ðŸ¦ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ±ºæ¸ˆï¼ˆLine PayðŸ“±ï¼‰ã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ðŸ’³ãªã©ã€å„ç¨®ãŠæ”¯æ‰•ã„æ–¹æ³•ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚"
        },
        "ko": {
            "keywords": ["ê²°ì œ ë°©ë²•", "ê²°ì œ", "ì§€ë¶ˆ", "ìš”ê¸ˆ", "ì–´ë–»ê²Œ ê²°ì œí•´ìš”?", "ê²°ì œ ìˆ˜ë‹¨", "ê²°ì œ ë°©ì‹", "íŽ˜ì´"],
            "response": "í˜„ê¸ˆðŸ’µ, ê³„ì¢Œ ì´ì²´ðŸ¦, ì˜¨ë¼ì¸ ê²°ì œ (Line PayðŸ“±), ì‹ ìš© ì¹´ë“œðŸ’³ ë“± ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤."
        }
    },
    {
        "zh-TW": {
            keywords: ["æ”¶é€", "åˆ°åºœæ”¶é€", "å¤–é€", "æ”¶è¡£æœ", "é€è¡£æœ", "ä¾†æ”¶", "åˆ°åºœ", "ä¸Šé–€æ”¶", "ä¸Šé–€", "åˆ°åºœæœå‹™"],
            response: "æˆ‘å€‘æœ‰å…è²»åˆ°åºœæ”¶é€æœå‹™ðŸ“¦ï¼Œå¯ä»¥ LINE æˆ–å®˜ç¶²é ç´„å–”ï¼ðŸšš æ±Ÿç¿ åŒ—èŠ³é„°ä¸€ä»¶å°±å¯ä»¥å…è²»æ”¶é€ï¼Œæ¿æ©‹ã€æ–°èŽŠã€ä¸‰é‡ã€ä¸­å’Œã€æ°¸å’Œæ»¿ä¸‰ä»¶æˆ– 500 å…ƒï¼Œæ”¾ç½®ç®¡ç†å®¤è·Ÿæˆ‘å€‘èªªå°±å¯ä»¥äº†ï¼ðŸ‘•"
        },
        "zh-CN": {
            keywords: ["æ”¶é€", "åˆ°åºœæ”¶é€", "å¤–é€", "æ”¶è¡£æœ", "é€è¡£æœ", "æ¥æ”¶", "åˆ°åºœ", "ä¸Šé—¨æ”¶", "ä¸Šé—¨", "åˆ°åºœæœåŠ¡"],
            response: "æˆ‘ä»¬æœ‰å…è´¹åˆ°åºœæ”¶é€æœåŠ¡ðŸ“¦ï¼Œå¯ä»¥ LINE æˆ–å®˜ç½‘é¢„çº¦å–”ï¼ðŸšš æ±Ÿç¿ åŒ—èŠ³é‚»ä¸€ä»¶å°±å¯ä»¥å…è´¹æ”¶é€ï¼Œæ¿æ¡¥ã€æ–°åº„ã€ä¸‰é‡ã€ä¸­å’Œã€æ°¸å’Œæ»¡ä¸‰ä»¶æˆ– 500 å…ƒï¼Œæ”¾ç½®ç®¡ç†å®¤è·Ÿæˆ‘ä»¬è¯´å°±å¯ä»¥äº†ï¼ðŸ‘•"
        },
        "en": {
            keywords: ["pickup", "delivery", "pick-up", "deliver", "collect", "drop off", "home pickup", "delivery service"],
            response: "We offer free pick-up and delivery service! ðŸ“¦ You can make a reservation via LINE or our official website! ðŸšš Free pick-up and delivery for Jiangcui North Neighborhood for one item, and for Banqiao, Xinzhuang, Sanchong, Zhonghe, and Yonghe, it's free for 3 items or $500. Just leave it at the management office and let us know! ðŸ‘•"
        },
        "ja": {
            keywords: ["é›†è·", "é…é”", "é›†é…", "å®…é…", "å–ã‚Šã«æ¥ã¦", "ãŠå±Šã‘", "å‡ºå¼µé›†è·", "é…é€ã‚µãƒ¼ãƒ“ã‚¹"],
            response: "ç„¡æ–™ã®é›†è·ãƒ»é…é”ã‚µãƒ¼ãƒ“ã‚¹ãŒã”ã–ã„ã¾ã™ðŸ“¦LINEã¾ãŸã¯å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã”äºˆç´„ãã ã•ã„ï¼ðŸšš æ±Ÿç¿ åŒ—èŠ³é„°ã¯1ç‚¹ã‹ã‚‰ç„¡æ–™é›†é…ã€æ¿æ©‹ã€æ–°èŽŠã€ä¸‰é‡ã€ä¸­å’Œã€æ°¸å’Œã¯3ç‚¹ã¾ãŸã¯500å…ƒä»¥ä¸Šã§ç„¡æ–™ã§ã™ã€‚ç®¡ç†äººå®¤ã«ç½®ã„ã¦ã„ãŸã ã‘ã‚Œã°çµæ§‹ã§ã™ï¼ðŸ‘•"
        },
        "ko": {
            keywords: ["ìˆ˜ê±°", "ë°°ë‹¬", "í”½ì—…", "ë°©ë¬¸ ìˆ˜ê±°", "ë°°ì†¡", "ìˆ˜ê±° ë¼ìš”?", "ë°°ë‹¬ ë¼ìš”?", "ì§‘ìœ¼ë¡œ ì™€ì£¼ì„¸ìš”", "ìˆ˜ê±° ì„œë¹„ìŠ¤", "ë°°ë‹¬ ì„œë¹„ìŠ¤"],
            response: "ë¬´ë£Œ ë°©ë¬¸ ìˆ˜ê±° ë° ë°°ë‹¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤! ðŸ“¦ LINE ë˜ëŠ” ê³µì‹ ì›¹ì‚¬ì´íŠ¸ë¥¼ í†µí•´ ì˜ˆì•½í•˜ì‹¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤! ðŸšš ìŸì¶”ì´ë² ì´ë¦°(æ±Ÿç¿ åŒ—èŠ³é„°)ì€ 1ê°œ í’ˆëª©ë¶€í„° ë¬´ë£Œ ìˆ˜ê±° ë° ë°°ë‹¬ì´ ê°€ëŠ¥í•˜ë©°, ë°˜ì°¨ì˜¤(æ¿æ©‹), ì‹ ì¢¡(æ–°èŽŠ), ì‹¼ì´(ä¸‰é‡), ì¤‘í—ˆ(ä¸­å’Œ), ìœµí—ˆ(æ°¸å’Œ) ì§€ì—­ì€ 3ê°œ í’ˆëª© ì´ìƒ ë˜ëŠ” 500ë‹¬ëŸ¬ ì´ìƒì´ë©´ ë¬´ë£Œìž…ë‹ˆë‹¤. ê´€ë¦¬ì‹¤ì— ë§¡ê¸°ì‹œê³  ì €í¬ì—ê²Œ ì•Œë ¤ì£¼ì‹œë©´ ë©ë‹ˆë‹¤! ðŸ‘•"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ¸…æ´—æœå‹™", "æ¸…æ½”æœå‹™", "æ´—è¡£æœå‹™", "æ´—ä»€éº¼", "å¯ä»¥æ´—ä»€éº¼", "æœå‹™é …ç›®", "æ¸…æ´—é …ç›®", "æ¸…æ½”é …ç›®", "æ´—è¡£é …ç›®", "åœ°æ¯¯", "æœ‰æ´—åœ°æ¯¯", "æœ‰æ¸…æ´—åœ°æ¯¯", "çª—ç°¾", "æœ‰æ´—çª—ç°¾", "æœ‰æ¸…æ´—çª—ç°¾"],
            response: "æˆ‘å€‘æä¾›å„å¼è¡£ç‰©ã€åŒ…åŒ…ã€åœ°æ¯¯ç­‰æ¸…æ´—æœå‹™ï¼Œæ‚¨å¯ä»¥å‘Šè¨´æˆ‘å€‘å…·é«”éœ€æ±‚ï¼Œæˆ‘å€‘æœƒæ ¹æ“šç‹€æ³å®‰æŽ’æ¸…æ´—ã€‚ðŸ§¹"
        },
        "zh-CN": {
            keywords: ["æ¸…æ´—æœåŠ¡", "æ¸…æ´æœåŠ¡", "æ´—è¡£æœåŠ¡", "æ´—ä»€ä¹ˆ", "å¯ä»¥æ´—ä»€ä¹ˆ", "æœåŠ¡é¡¹ç›®", "æ¸…æ´—é¡¹ç›®", "æ¸…æ´é¡¹ç›®", "æ´—è¡£é¡¹ç›®", "åœ°æ¯¯", "æœ‰æ´—åœ°æ¯¯", "æœ‰æ¸…æ´—åœ°æ¯¯", "çª—å¸˜", "æœ‰æ´—çª—å¸˜", "æœ‰æ¸…æ´—çª—å¸˜"],
            response: "æˆ‘ä»¬æä¾›å„å¼è¡£ç‰©ã€åŒ…åŒ…ã€åœ°æ¯¯ç­‰æ¸…æ´—æœåŠ¡ï¼Œæ‚¨å¯ä»¥å‘Šè¯‰æˆ‘ä»¬å…·ä½“éœ€æ±‚ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®çŠ¶å†µå®‰æŽ’æ¸…æ´—ã€‚ðŸ§¹"
        },
        "en": {
            keywords: ["cleaning service", "laundry service", "wash service", "what do you wash", "services", "cleaning items", "laundry items", "carpet", "carpet cleaning", "curtain", "curtain cleaning"],
            response: "We provide cleaning services for various items such as clothes, bags, carpets, etc. Please let us know your specific needs, and we will arrange cleaning based on the situation. ðŸ§¹"
        },
        "ja": {
            keywords: ["ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹", "æ´—æ¿¯ã‚µãƒ¼ãƒ“ã‚¹", "æ´—æ¿¯", "ä½•ã‚’æ´—ãˆã‚‹", "ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹", "ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å“ç›®", "æ´—æ¿¯å“ç›®", "ã‚«ãƒ¼ãƒšãƒƒãƒˆ", "ã‚«ãƒ¼ãƒšãƒƒãƒˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ã‚«ãƒ¼ãƒ†ãƒ³", "ã‚«ãƒ¼ãƒ†ãƒ³ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°"],
            response: "è¡£é¡žã€ãƒãƒƒã‚°ã€ã‚«ãƒ¼ãƒšãƒƒãƒˆãªã©ã€æ§˜ã€…ãªã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ãŠã‚Šã¾ã™ã€‚å…·ä½“çš„ãªã”è¦æœ›ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã ã‘ã‚Œã°ã€çŠ¶æ³ã«å¿œã˜ã¦ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ‰‹é…ã„ãŸã—ã¾ã™ã€‚ðŸ§¹"
        },
        "ko": {
            keywords: ["ì„¸íƒ ì„œë¹„ìŠ¤", "í´ë¦¬ë‹ ì„œë¹„ìŠ¤", "ë­ ì„¸íƒ", "ë¬´ìŠ¨ ì„¸íƒ", "ì„¸íƒ ì¢…ë¥˜", "ì„¸íƒ í’ˆëª©", "ì„¸íƒ ì„œë¹„ìŠ¤ ì¢…ë¥˜", "í´ë¦¬ë‹ í’ˆëª©", "ì¹´íŽ«", "ì¹´íŽ« ì„¸íƒ", "ì»¤íŠ¼", "ì»¤íŠ¼ ì„¸íƒ"],
            response: "ì €í¬ëŠ” ì˜ë¥˜, ê°€ë°©, ì¹´íŽ« ë“± ë‹¤ì–‘í•œ í’ˆëª©ì— ëŒ€í•œ ì„¸íƒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ìš”êµ¬ ì‚¬í•­ì„ ì•Œë ¤ì£¼ì‹œë©´ ìƒí™©ì— ë”°ë¼ ì„¸íƒì„ ì¤€ë¹„í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ðŸ§¹"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ¸…æ½”æ™‚é–“", "æ‹¿åˆ°", "æ´—è¦å¤šä¹…", "å¤šä¹…", "æœƒå¥½", "é€æ´—æ™‚é–“", "æ¸…æ´—è¦å¤šä¹…", "æ´—å¤šä¹…", "ä½•æ™‚å¥½", "ä½•æ™‚å¯ä»¥æ‹¿", "å¤šä¹…æ´—å¥½"],
            response: "æˆ‘å€‘çš„æ¸…æ½”æ™‚é–“ä¸€èˆ¬ç´„ 7-10 å€‹å·¥ä½œå¤©â°ï¼Œå®Œæˆå¾Œæœƒè‡ªå‹•é€šçŸ¥æ‚¨å–”ï¼è¬è¬æ‚¨â³"
        },
        "zh-CN": {
            keywords: ["æ¸…æ´æ—¶é—´", "æ‹¿åˆ°", "æ´—è¦å¤šä¹…", "å¤šä¹…", "ä¼šå¥½", "é€æ´—æ—¶é—´", "æ¸…æ´—è¦å¤šä¹…", "æ´—å¤šä¹…", "ä½•æ—¶å¥½", "ä½•æ—¶å¯ä»¥æ‹¿", "å¤šä¹…æ´—å¥½"],
            response: "æˆ‘ä»¬çš„æ¸…æ´æ—¶é—´ä¸€èˆ¬çº¦ 7-10 ä¸ªå·¥ä½œå¤©â°ï¼Œå®ŒæˆåŽä¼šè‡ªåŠ¨é€šçŸ¥æ‚¨å–”ï¼è°¢è°¢æ‚¨â³"
        },
        "en": {
            keywords: ["cleaning time", "get back", "how long to clean", "how long", "when will be ready", "delivery time", "how long does it take", "when can I get it", "turnaround time"],
            response: "Our cleaning time is generally about 7-10 business days â°. We will automatically notify you when it's done! Thank you â³"
        },
        "ja": {
            keywords: ["ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ™‚é–“", "å—ã‘å–ã‚Š", "æ´—æ¿¯æ™‚é–“", "ã©ã®ãã‚‰ã„", "ã„ã¤ã§ãã‚‹", "é…é”æ™‚é–“", "ä½•æ—¥ã‹ã‹ã‚‹", "ã„ã¤å—ã‘å–ã‚Œã‚‹", "ä»•ä¸ŠãŒã‚Šæ™‚é–“"],
            response: "ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ™‚é–“ã¯é€šå¸¸7ï½ž10å–¶æ¥­æ—¥ã§ã™â°å®Œäº†ã—ãŸã‚‰è‡ªå‹•çš„ã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™â³"
        },
        "ko": {
            keywords: ["ì„¸íƒ ì‹œê°„", "ì°¾ìœ¼ëŸ¬", "ì–¼ë§ˆë‚˜ ê±¸ë ¤", "ì„¸íƒ ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”", "ì–¸ì œ ë¼", "ì–¸ì œ ì°¾ì„ ìˆ˜ ìžˆì–´", "ê±¸ë¦¬ëŠ” ì‹œê°„", "ì„¸íƒ ì™„ë£Œ ì‹œê°„", "ì°¾ì•„ê°ˆ ì‹œê°„"],
            response: "ì„¸íƒ ì‹œê°„ì€ ì¼ë°˜ì ìœ¼ë¡œ 7-10 ì˜ì—…ì¼ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤ â°. ì™„ë£Œë˜ë©´ ìžë™ìœ¼ë¡œ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤ â³"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ´—å¥½", "æ´—å¥½äº†å—Ž", "é€²åº¦", "å¥½äº†å—Ž", "å®Œæˆäº†å—Ž", "æ´—åˆ°å“ª", "æ´—åˆ°å“ªäº†", "é€²åº¦æŸ¥è©¢", "æŸ¥è©¢é€²åº¦", "æ´—å®Œæ²’", "æ´—å¥½äº†æ²¡"],
            response: "ç‡Ÿæ¥­æ™‚é–“æœƒé¦¬ä¸ŠæŸ¥è©¢æ‚¨çš„æ¸…æ´—é€²åº¦ðŸ˜Šï¼Œä¸¦å›žè¦†æ‚¨ï¼è¬è¬æ‚¨ðŸ”"
        },
        "zh-CN": {
            keywords: ["æ´—å¥½", "æ´—å¥½äº†å—", "è¿›åº¦", "å¥½äº†å—", "å®Œæˆäº†å—", "æ´—åˆ°å“ª", "æ´—åˆ°å“ªäº†", "è¿›åº¦æŸ¥è¯¢", "æŸ¥è¯¢è¿›åº¦", "æ´—å®Œæ²¡", "æ´—å¥½äº†æ²¡"],
            response: "è¥ä¸šæ—¶é—´ä¼šé©¬ä¸ŠæŸ¥è¯¢æ‚¨çš„æ¸…æ´—è¿›åº¦ðŸ˜Šï¼Œå¹¶å›žå¤æ‚¨ï¼è°¢è°¢æ‚¨ðŸ”"
        },
        "en": {
            keywords: ["done", "ready", "progress", "is it done", "is it ready", "status", "check progress", "how's the progress", "where is my laundry", "finished yet"],
            response: "During business hours, we will immediately check your cleaning progress ðŸ˜Š and reply to you! Thank you ðŸ”"
        },
        "ja": {
            keywords: ["æ´—ã„ä¸ŠãŒã‚Š", "çµ‚ã‚ã£ãŸ", "é€²æ—", "çµ‚ã‚ã‚Šã¾ã—ãŸã‹", "å®Œäº†ã—ã¾ã—ãŸã‹", "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹", "é€²æ—ç¢ºèª", "ã©ã†ãªã£ã¦ã‚‹", "ä»•ä¸ŠãŒã‚Š", "æ´—æ¿¯ç‰©ã©ã“"],
            response: "å–¶æ¥­æ™‚é–“å†…ã«ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã®é€²æ—çŠ¶æ³ã‚’ç¢ºèªã—ã€ã™ãã«ã”è¿”ä¿¡ã„ãŸã—ã¾ã™ðŸ˜Šã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ðŸ”"
        },
        "ko": {
            keywords: ["ë‹¤ ëì–´?", "ë‹¤ ëë‚˜ìš”", "ì§„í–‰ ìƒí™©", "ì§„í–‰", "ëë‚˜", "ì–´ë””ê¹Œì§€ ëì–´", "ì–´ë””ê¹Œì§€ ì§„í–‰ëì–´", "ì§„í–‰ í™•ì¸", "ì„¸íƒë¬¼ í™•ì¸", "ëë‚¬ì–´?", "ì„¸íƒ ëë‚¬ë‚˜ìš”"],
            response: "ì˜ì—…ì‹œê°„ ì¤‘ì—ëŠ” ì¦‰ì‹œ ì„¸íƒ ì§„í–‰ ìƒí™©ì„ í™•ì¸í•˜ê³  ðŸ˜Š ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤ ðŸ”"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ²¹æ¼¬", "æ²¹æ±¡", "æ²¹åž¢", "æ²¹æ–‘", "æ²¹æ¼¬è™•ç†", "æ²¹æ±¡è™•ç†"],
            response: "æ²¹æ¼¬æˆ‘å€‘æœ‰å°ˆé–€çš„è™•ç†æ–¹å¼ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥è®Šæ·¡ï¼Œè«‹æ”¾å¿ƒï¼ðŸ³"
        },
        "zh-CN": {
            keywords: ["æ²¹æ¸", "æ²¹æ±¡", "æ²¹åž¢", "æ²¹æ–‘", "æ²¹æ¸å¤„ç†", "æ²¹æ±¡å¤„ç†"],
            response: "æ²¹æ¸æˆ‘ä»¬æœ‰ä¸“é—¨çš„å¤„ç†æ–¹å¼ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥å˜æ·¡ï¼Œè¯·æ”¾å¿ƒï¼ðŸ³"
        },
        "en": {
            keywords: ["oil stain", "grease stain", "oil mark", "grease mark", "oil stain treatment", "grease stain treatment"],
            response: "We have special treatments for oil stains, most of them can be lightened, please rest assured! ðŸ³"
        },
        "ja": {
            keywords: ["æ²¹æ±šã‚Œ", "æ²¹æŸ“ã¿", "æ²¹", "æ²¹æ±šã‚Œå‡¦ç†", "æ²¹æŸ“ã¿å‡¦ç†"],
            response: "æ²¹æ±šã‚Œã«ã¯å°‚é–€ã®å‡¦ç†æ–¹æ³•ãŒã‚ã‚Šã€ã»ã¨ã‚“ã©ã®å ´åˆã¯è–„ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã®ã§ã”å®‰å¿ƒãã ã•ã„ï¼ðŸ³"
        },
        "ko": {
            keywords: ["ê¸°ë¦„ ì–¼ë£©", "ê¸°ë¦„ë•Œ", "ê¸°ë¦„", "ê¸°ë¦„ ì–¼ë£© ì œê±°", "ê¸°ë¦„ë•Œ ì œê±°", "ê¸°ë¦„ ì§€ì›Œì§€ë‚˜ìš”"],
            response: "ê¸°ë¦„ ì–¼ë£©ì€ ì „ë¬¸ì ì¸ ì²˜ë¦¬ ë°©ë²•ì´ ìžˆìœ¼ë©°, ëŒ€ë¶€ë¶„ ì˜…ì–´ì§ˆ ìˆ˜ ìžˆìœ¼ë‹ˆ ì•ˆì‹¬í•˜ì„¸ìš”! ðŸ³"
        }
    },
    {
        "zh-TW": {
            keywords: ["è¡€æ¼¬", "è¡€è·¡", "è¡€æ±¡", "è¡€æ–‘", "è¡€æ¼¬è™•ç†", "è¡€è·¡è™•ç†"],
            response: "è¡€æ¼¬æˆ‘å€‘æœƒç›¡åŠ›è™•ç†ï¼Œä½†æˆåŠŸçŽ‡è¦–æ²¾æŸ“æ™‚é–“å’Œæè³ªè€Œå®šå–”ï¼ðŸ’‰"
        },
        "zh-CN": {
            keywords: ["è¡€æ¸", "è¡€è¿¹", "è¡€æ±¡", "è¡€æ–‘", "è¡€æ¸å¤„ç†", "è¡€è¿¹å¤„ç†"],
            response: "è¡€æ¸æˆ‘ä»¬ä¼šå°½åŠ›å¤„ç†ï¼Œä½†æˆåŠŸçŽ‡è§†æ²¾æŸ“æ—¶é—´å’Œæè´¨è€Œå®šå–”ï¼ðŸ’‰"
        },
        "en": {
            keywords: ["blood stain", "blood mark", "blood spot", "blood stain treatment", "blood mark treatment"],
            response: "We will try our best to deal with blood stains, but the success rate depends on the staining time and material! ðŸ’‰"
        },
        "ja": {
            keywords: ["è¡€", "è¡€ç—•", "è¡€æŸ“ã¿", "è¡€æ±šã‚Œ", "è¡€æŸ“ã¿å‡¦ç†", "è¡€æ±šã‚Œå‡¦ç†"],
            response: "è¡€æ¶²ã®ã‚·ãƒŸã¯ã§ãã‚‹é™ã‚Šå¯¾å¿œã—ã¾ã™ãŒã€æˆåŠŸçŽ‡ã¯ä»˜ç€æ™‚é–“ã¨ç´ æã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼ðŸ’‰"
        },
        "ko": {
            keywords: ["í”¼ ì–¼ë£©", "í˜ˆí”", "í”¼", "í”¼ ì–¼ë£© ì œê±°", "í”¼ ì§€ì›Œì§€ë‚˜ìš”", "í”¼ ë¹¼ì£¼ì„¸ìš”"],
            response: "í”¼ ì–¼ë£©ì€ ìµœì„ ì„ ë‹¤í•´ ì²˜ë¦¬í•´ ë“œë¦¬ê² ì§€ë§Œ, ì„±ê³µë¥ ì€ ì–¼ë£©ì§„ ì‹œê°„ê³¼ ìž¬ì§ˆì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤! ðŸ’‰"
        }
    },
    {
        "zh-TW": {
            keywords: ["é†¬æ²¹", "é†¬æ²¹æ¼¬", "é†¬æ²¹æ±¡æ¼¬", "é†¬æ²¹æ–‘", "é†¬æ²¹æ¼¬è™•ç†", "é†¬æ²¹æ±¡æ¼¬è™•ç†"],
            response: "é†¬æ²¹æ±¡æ¼¬æˆ‘å€‘æœ‰å°ˆé–€çš„è™•ç†æ–¹å¼ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥è®Šæ·¡ï¼Œè«‹æ”¾å¿ƒï¼ðŸ¶"
        },
        "zh-CN": {
            keywords: ["é…±æ²¹", "é…±æ²¹æ¸", "é…±æ²¹æ±¡æ¸", "é…±æ²¹æ–‘", "é…±æ²¹æ¸å¤„ç†", "é…±æ²¹æ±¡æ¸å¤„ç†"],
            response: "é…±æ²¹æ±¡æ¸æˆ‘ä»¬æœ‰ä¸“é—¨çš„å¤„ç†æ–¹å¼ï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥å˜æ·¡ï¼Œè¯·æ”¾å¿ƒï¼ðŸ¶"
        },
        "en": {
            keywords: ["soy sauce stain", "soy sauce mark", "soy sauce spot", "soy sauce stain treatment", "soy sauce mark treatment"],
            response: "We have special treatments for soy sauce stains, most of them can be lightened, please rest assured! ðŸ¶"
        },
        "ja": {
            keywords: ["é†¤æ²¹", "é†¤æ²¹æŸ“ã¿", "é†¤æ²¹æ±šã‚Œ", "é†¤æ²¹æŸ“ã¿å‡¦ç†", "é†¤æ²¹æ±šã‚Œå‡¦ç†"],
            response: "é†¤æ²¹ã®ã‚·ãƒŸã«ã¯å°‚é–€ã®å‡¦ç†æ–¹æ³•ãŒã‚ã‚Šã€ã»ã¨ã‚“ã©ã®å ´åˆã¯è–„ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã®ã§ã”å®‰å¿ƒãã ã•ã„ï¼ðŸ¶"
        },
        "ko": {
            keywords: ["ê°„ìž¥", "ê°„ìž¥ ì–¼ë£©", "ê°„ìž¥ ìžêµ­", "ê°„ìž¥ ì–¼ë£© ì œê±°", "ê°„ìž¥ ì§€ì›Œì§€ë‚˜ìš”", "ê°„ìž¥ ë¹¼ì£¼ì„¸ìš”"],
            response: "ê°„ìž¥ ì–¼ë£©ì€ ì „ë¬¸ì ì¸ ì²˜ë¦¬ ë°©ë²•ì´ ìžˆìœ¼ë©°, ëŒ€ë¶€ë¶„ ì˜…ì–´ì§ˆ ìˆ˜ ìžˆìœ¼ë‹ˆ ì•ˆì‹¬í•˜ì„¸ìš”! ðŸ¶"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ±¡æ¼¬", "é«’æ±¡", "æ±¡åž¢", "æ±™æ¼¬", "é«’æ±™", "æ±™åž¢", "æ±¡æ¼¬è™•ç†", "é«’æ±¡è™•ç†", "æ±™æ¼¬è™•ç†", "à¸—à¸±à¹ˆà¸§à¹„à¸› stain", "æ´—çš„æŽ‰"],
            response: "æˆ‘å€‘æœƒé‡å°æ±¡æ¼¬åšå°ˆé–€è™•ç†ï¼Œå¤§éƒ¨åˆ†æ±¡æ¼¬éƒ½å¯ä»¥è®Šæ·¡ï¼Œä½†æˆåŠŸçŽ‡è¦–æ±¡æ¼¬ç¨®é¡žèˆ‡è¡£ç‰©æè³ªè€Œå®šå–”ï¼âœ¨"
        },
        "zh-CN": {
            keywords: ["æ±¡æ¸", "è„æ±¡", "æ±¡åž¢", "æ±™æ¸", "è„æ±™", "æ±™åž¢", "æ±¡æ¸å¤„ç†", "è„æ±¡å¤„ç†", "æ±™æ¸å¤„ç†", "à¸—à¸±à¹ˆà¸§à¹„à¸› stain", "æ´—çš„æŽ‰"],
            response: "æˆ‘ä»¬ä¼šé’ˆå¯¹æ±¡æ¸åšä¸“é—¨å¤„ç†ï¼Œå¤§éƒ¨åˆ†æ±¡æ¸éƒ½å¯ä»¥å˜æ·¡ï¼Œä½†æˆåŠŸçŽ‡è§†æ±¡æ¸ç§ç±»ä¸Žè¡£ç‰©æè´¨è€Œå®šå–”ï¼âœ¨"
        },
        "en": {
            keywords: ["stain", "dirt", "mark", "spot", "stain treatment", "dirt treatment", "mark treatment", "can be washed off", "washable stain"],
            response: "We will treat stains specifically, most stains can be lightened, but the success rate depends on the type of stain and the material of the clothing! âœ¨"
        },
        "ja": {
            keywords: ["ã‚·ãƒŸ", "æ±šã‚Œ", "æŸ“ã¿", "ã‚·ãƒŸå‡¦ç†", "æ±šã‚Œå‡¦ç†", "æŸ“ã¿å‡¦ç†", "ä¸€èˆ¬çš„ãªã‚·ãƒŸ", "æ´—ã„è½ã¨ã›ã‚‹"],
            response: "ã‚·ãƒŸã®ç¨®é¡žã«å¿œã˜ã¦å°‚é–€çš„ãªå‡¦ç†ã‚’è¡Œã„ã€ã»ã¨ã‚“ã©ã®ã‚·ãƒŸã¯è–„ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€æˆåŠŸçŽ‡ã¯ã‚·ãƒŸã®ç¨®é¡žã‚„è¡£é¡žã®ç´ æã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼âœ¨"
        },
        "ko": {
            keywords: ["ì–¼ë£©", "ì˜¤ì—¼", "ë•Œ", "ìžêµ­", "ì–¼ë£© ì œê±°", "ì˜¤ì—¼ ì œê±°", "ìžêµ­ ì œê±°", "ì¼ë°˜ ì–¼ë£©", "ì”»ì–´ë‚¼ ìˆ˜ ìžˆë‚˜ìš”", "ì§€ì›Œì§€ëŠ” ì–¼ë£©"],
            response: "ì–¼ë£©ì— ëŒ€í•´ ì „ë¬¸ì ìœ¼ë¡œ ì²˜ë¦¬í•´ ë“œë¦¬ë©°, ëŒ€ë¶€ë¶„ì˜ ì–¼ë£©ì€ ì˜…ì–´ì§ˆ ìˆ˜ ìžˆì§€ë§Œ ì„±ê³µë¥ ì€ ì–¼ë£© ì¢…ë¥˜ì™€ ì˜ë¥˜ ìž¬ì§ˆì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤! âœ¨"
        }
    },
    {
        "zh-TW": {
            keywords: ["ç›¡åŠ›", "ç›¡é‡", "ç›¡å¯èƒ½", "ç›¡åŠ›è™•ç†", "ç›¡é‡è™•ç†", "ç›¡å¯èƒ½è™•ç†", "åŠªåŠ›è™•ç†æ±¡æ¼¬", "æ´—æŽ‰"],
            response: "æˆ‘å€‘æœƒç›¡åŠ›è™•ç†æ±¡æ¼¬ï¼Œä½†æ»²é€åˆ°çº–ç¶­æˆ–æ™‚é–“è¼ƒä¹…çš„æ±¡æ¼¬å¯èƒ½ç„¡æ³•å®Œå…¨åŽ»é™¤ï¼Œè«‹è¦‹è«’ï¼ðŸ˜Š"
        },
        "zh-CN": {
            keywords: ["å°½åŠ›", "å°½é‡", "å°½å¯èƒ½", "å°½åŠ›å¤„ç†", "å°½é‡å¤„ç†", "å°½å¯èƒ½å¤„ç†", "åŠªåŠ›å¤„ç†æ±¡æ¸", "æ´—æŽ‰"],
            response: "æˆ‘ä»¬ä¼šå°½åŠ›å¤„ç†æ±¡æ¸ï¼Œä½†æ¸—é€åˆ°çº¤ç»´æˆ–æ—¶é—´è¾ƒä¹…çš„æ±¡æ¸å¯èƒ½æ— æ³•å®Œå…¨åŽ»é™¤ï¼Œè¯·è§è°…ï¼ðŸ˜Š"
        },
        "en": {
            keywords: ["best effort", "try best", "do my best", "try hard", "best effort for stain", "try best to remove stain", "wash off"],
            response: "We will do our best to treat stains, but stains that have penetrated into the fibers or are old may not be completely removed, please understand! ðŸ˜Š"
        },
        "ja": {
            keywords: ["å°½åŠ›", "ã§ãã‚‹é™ã‚Š", "æœ€å¤§é™", "å°½åŠ›ã—ã¦å‡¦ç†", "ã§ãã‚‹é™ã‚Šå‡¦ç†", "æœ€å¤§é™ã«å‡¦ç†", "ã‚·ãƒŸã‚’é ‘å¼µã£ã¦å–ã‚‹", "æ´—ã„è½ã¨ã™"],
            response: "ã‚·ãƒŸã®å‡¦ç†ã«ã¯æœ€å–„ã‚’å°½ãã—ã¾ã™ãŒã€ç¹Šç¶­ã«æµ¸é€ã—ãŸã‚·ãƒŸã‚„æ™‚é–“ã®çµŒéŽã—ãŸã‚·ãƒŸã¯å®Œå…¨ã«é™¤åŽ»ã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã”äº†æ‰¿ãã ã•ã„ï¼ðŸ˜Š"
        },
        "ko": {
            keywords: ["ìµœëŒ€í•œ", "ìµœëŒ€í•œ ë…¸ë ¥", "ìµœì„ ì„ ë‹¤í•´", "ìµœëŒ€í•œ ì²˜ë¦¬", "ë…¸ë ¥", "ìµœëŒ€í•œ ì–¼ë£© ì œê±°", "íž˜ì¨ì„œ ì–¼ë£© ì œê±°", "ì”»ì–´ë‚´ë‹¤"],
            response: "ì–¼ë£©ì„ ìµœëŒ€í•œ ì²˜ë¦¬í•´ ë“œë¦¬ê² ì§€ë§Œ, ì„¬ìœ ì— ì¹¨íˆ¬í–ˆê±°ë‚˜ ì˜¤ëž˜ëœ ì–¼ë£©ì€ ì™„ì „ížˆ ì œê±°ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤! ðŸ˜Š"
        }
    },
    {
        "zh-TW": {
            keywords: ["æŸ“è‰²", "æŸ“åˆ°è‰²", "è¢«æŸ“è‰²", "æŸ“è‰²å•é¡Œ", "æŸ“è‰²è™•ç†", "è™•ç†æŸ“è‰²", "æŸ“è‰²æ€Žéº¼è¾¦"],
            response: "æŸ“è‰²å•é¡Œæˆ‘å€‘æœƒç›¡é‡è™•ç†ï¼Œä½†å¦‚æžœæ»²é€åˆ°è¡£ç‰©çº–ç¶­æˆ–é¢ç©è¼ƒå¤§ï¼Œä¸èƒ½ä¿è­‰å®Œå…¨è™•ç†å–”ï¼ðŸŒˆ"
        },
        "zh-CN": {
            keywords: ["æŸ“è‰²", "æŸ“åˆ°è‰²", "è¢«æŸ“è‰²", "æŸ“è‰²é—®é¢˜", "æŸ“è‰²å¤„ç†", "å¤„ç†æŸ“è‰²", "æŸ“è‰²æ€Žä¹ˆåŠž"],
            response: "æŸ“è‰²é—®é¢˜æˆ‘ä»¬ä¼šå°½é‡å¤„ç†ï¼Œä½†å¦‚æžœæ¸—é€åˆ°è¡£ç‰©çº¤ç»´æˆ–é¢ç§¯è¾ƒå¤§ï¼Œä¸èƒ½ä¿è¯å®Œå…¨å¤„ç†å–”ï¼ðŸŒˆ"
        },
        "en": {
            keywords: ["dyeing", "dye transfer", "color bleed", "dyeing issue", "dyeing problem", "dyeing treatment", "color bleed treatment"],
            response: "We will try our best to deal with dyeing issues, but if it has penetrated into the clothing fibers or the area is large, complete removal cannot be guaranteed! ðŸŒˆ"
        },
        "ja": {
            keywords: ["æŸ“è‰²", "è‰²ç§»ã‚Š", "æŸ“ã¾ã£ã¦ã—ã¾ã£ãŸ", "æŸ“è‰²å•é¡Œ", "æŸ“è‰²å‡¦ç†", "è‰²ç§»ã‚Šå‡¦ç†", "æŸ“è‰²ã©ã†ã™ã‚Œã°"],
            response: "æŸ“è‰²ã®å•é¡Œã«ã¯ã§ãã‚‹é™ã‚Šå¯¾å¿œã—ã¾ã™ãŒã€è¡£é¡žã®ç¹Šç¶­ã«æµ¸é€ã—ã¦ã„ãŸã‚Šã€é¢ç©ãŒå¤§ãã„å ´åˆã¯ã€å®Œå…¨ã«é™¤åŽ»ã§ãã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ï¼ðŸŒˆ"
        },
        "ko": {
            keywords: ["ì—¼ìƒ‰", "ì´ì—¼", "ë¬¼ë“¤ì—ˆì–´", "ì—¼ìƒ‰ ë¬¸ì œ", "ì—¼ìƒ‰ ì²˜ë¦¬", "ì´ì—¼ ì²˜ë¦¬", "ì—¼ìƒ‰ ëëŠ”ë°", "ì—¼ìƒ‰ ì–´ë–¡í•´"],
            response: "ì—¼ìƒ‰ ë¬¸ì œëŠ” ìµœëŒ€í•œ ì²˜ë¦¬í•´ ë“œë¦¬ê² ì§€ë§Œ, ì˜ë¥˜ ì„¬ìœ ì— ì¹¨íˆ¬í–ˆê±°ë‚˜ ë©´ì ì´ ë„“ì€ ê²½ìš°ì—ëŠ” ì™„ì „í•œ ì²˜ë¦¬ë¥¼ ë³´ìž¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! ðŸŒˆ"
        }
    },
    {
        "zh-TW": {
            keywords: ["é€€è‰²", "è¤ªè‰²", "æŽ‰è‰²", "é€€è‰²å•é¡Œ", "è¤ªè‰²å•é¡Œ", "æŽ‰è‰²å•é¡Œ", "é€€è‰²æ€Žéº¼è¾¦", "è¤ªè‰²æ€Žéº¼è¾¦", "æŽ‰è‰²æ€Žéº¼è¾¦"],
            response: "å·²ç¶“é€€è‰²çš„è¡£ç‰©æ˜¯ç„¡æ³•æ¢å¾©çš„ï¼Œè«‹è¦‹è«’ï¼ðŸŽ¨"
        },
        "zh-CN": {
            keywords: ["é€€è‰²", "è¤ªè‰²", "æŽ‰è‰²", "é€€è‰²é—®é¢˜", "è¤ªè‰²é—®é¢˜", "æŽ‰è‰²é—®é¢˜", "é€€è‰²æ€Žä¹ˆåŠž", "è¤ªè‰²æ€Žä¹ˆåŠž", "æŽ‰è‰²æ€Žä¹ˆåŠž"],
            response: "å·²ç»é€€è‰²çš„è¡£ç‰©æ˜¯æ— æ³•æ¢å¤çš„ï¼Œè¯·è§è°…ï¼ðŸŽ¨"
        },
        "en": {
            keywords: ["fading", "color fade", "fade color", "fading issue", "fading problem", "color fading issue", "color fade problem"],
            response: "Clothes that have already faded cannot be restored, please understand! ðŸŽ¨"
        },
        "ja": {
            keywords: ["é€€è‰²", "è‰²ã‚ã›", "è‰²è½ã¡", "é€€è‰²å•é¡Œ", "è‰²ã‚ã›å•é¡Œ", "è‰²è½ã¡å•é¡Œ", "é€€è‰²ã©ã†ã™ã‚Œã°", "è‰²ã‚ã›ã©ã†ã™ã‚Œã°", "è‰²è½ã¡ã©ã†ã™ã‚Œã°"],
            response: "ã™ã§ã«è‰²ã‚ã›ãŸè¡£é¡žã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚ã”äº†æ‰¿ãã ã•ã„ï¼ðŸŽ¨"
        },
        "ko": {
            keywords: ["íƒˆìƒ‰", "ìƒ‰ ë°”ëž¨", "ìƒ‰ ë¹ ì§", "íƒˆìƒ‰ ë¬¸ì œ", "ìƒ‰ ë°”ëž¨ ë¬¸ì œ", "ìƒ‰ ë¹ ì§ ë¬¸ì œ", "íƒˆìƒ‰ ëì–´", "ìƒ‰ ë°”ëž¬ì–´", "ìƒ‰ ë¹ ì¡Œì–´", "íƒˆìƒ‰ ì–´ë–¡í•´", "ìƒ‰ ë°”ëž¨ ì–´ë–¡í•´", "ìƒ‰ ë¹ ì§ ì–´ë–¡í•´"],
            response: "ì´ë¯¸ íƒˆìƒ‰ëœ ì˜ë¥˜ëŠ” ë³µì›í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤! ðŸŽ¨"
        }
    },
    {
        "zh-TW": {
            keywords: ["è¡£ç‰©æ¸…æ´—", "è¡£æœæ¸…æ´—", "å¤–å¥—æ¸…æ´—", "è¥¯è¡«æ¸…æ´—", "è¤²å­æ¸…æ´—", "è£™å­æ¸…æ´—", "å¯ä»¥æ´—è¡£æœå—Ž", "ä»€éº¼è¡£æœå¯ä»¥æ´—", "å„ç¨®è¡£ç‰©æ¸…æ´—", "æ˜¯å¦èƒ½æ¸…æ´—è¡£ç‰©"],
            response: "æˆ‘å€‘æä¾›å„å¼è¡£ç‰©æ¸…æ´—æœå‹™ï¼Œç„¡è«–æ˜¯è¡£æœã€å¤–å¥—ã€è¥¯è¡«ç­‰éƒ½å¯ä»¥æ¸…æ´—ã€‚ðŸ‘•"
        },
        "zh-CN": {
            keywords: ["è¡£ç‰©æ¸…æ´—", "è¡£æœæ¸…æ´—", "å¤–å¥—æ¸…æ´—", "è¡¬è¡«æ¸…æ´—", "è£¤å­æ¸…æ´—", "è£™å­æ¸…æ´—", "å¯ä»¥æ´—è¡£æœå—", "ä»€ä¹ˆè¡£æœå¯ä»¥æ´—", "å„ç§è¡£ç‰©æ¸…æ´—", "æ˜¯å¦èƒ½æ¸…æ´—è¡£ç‰©"],
            response: "æˆ‘ä»¬æä¾›å„å¼è¡£ç‰©æ¸…æ´—æœåŠ¡ï¼Œæ— è®ºæ˜¯è¡£æœã€å¤–å¥—ã€è¡¬è¡«ç­‰éƒ½å¯ä»¥æ¸…æ´—ã€‚ðŸ‘•"
        },
        "en": {
            keywords: ["clothing cleaning", "clothes cleaning", "coat cleaning", "shirt cleaning", "pants cleaning", "skirt cleaning", "can wash clothes", "what clothes can be washed", "various clothing cleaning", "can you wash clothes"],
            response: "We provide various clothing cleaning services, including clothes, coats, shirts, etc. ðŸ‘•"
        },
        "ja": {
            keywords: ["è¡£é¡žã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "æœã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ã‚³ãƒ¼ãƒˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ã‚·ãƒ£ãƒ„ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ã‚ºãƒœãƒ³ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "ã‚¹ã‚«ãƒ¼ãƒˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "æœæ´—ãˆã¾ã™ã‹", "ã©ã‚“ãªæœæ´—ãˆã‚‹", "æ§˜ã€…ãªè¡£é¡žã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "æœã¯æ´—ãˆã¾ã™ã‹"],
            response: "è¡£é¡žã€ã‚³ãƒ¼ãƒˆã€ã‚·ãƒ£ãƒ„ãªã©ã€æ§˜ã€…ãªè¡£é¡žã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ãŠã‚Šã¾ã™ã€‚ðŸ‘•"
        },
        "ko": {
            keywords: ["ì˜ë¥˜ ì„¸íƒ", "ì˜· ì„¸íƒ", "ì½”íŠ¸ ì„¸íƒ", "ì…”ì¸  ì„¸íƒ", "ë°”ì§€ ì„¸íƒ", "ì¹˜ë§ˆ ì„¸íƒ", "ì˜· ì„¸íƒ ë˜ë‚˜ìš”", "ë¬´ìŠ¨ ì˜· ì„¸íƒ", "ì˜· ì¢…ë¥˜ ì„¸íƒ", "ë‹¤ì–‘í•œ ì˜ë¥˜ ì„¸íƒ", "ì˜· ì„¸íƒ ê°€ëŠ¥"],
            response: "ì €í¬ëŠ” ì˜·, ì½”íŠ¸, ì…”ì¸  ë“± ë‹¤ì–‘í•œ ì˜ë¥˜ ì„¸íƒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ðŸ‘•"
        }
    },
    {
        "zh-TW": {
            keywords: ["å¯¶å¯¶æ±½åº§", "æ±½åº§"],
            response: "æˆ‘å€‘æœ‰æ¸…æ´—å¯¶å¯¶æ±½åº§ï¼Œè²»ç”¨æ˜¯ $900 ðŸ‘¶"
        },
        "zh-CN": {
            keywords: ["å®å®æ±½åº§", "æ±½åº§"],
            response: "æˆ‘ä»¬æœ‰æ¸…æ´—å®å®æ±½åº§ï¼Œè´¹ç”¨æ˜¯ $900 ðŸ‘¶"
        },
        "en": {
            keywords: ["baby car seat", "car seat"],
            response: "We clean baby car seats, the fee is $900 ðŸ‘¶"
        },
        "ja": {
            keywords: ["ãƒ™ãƒ“ãƒ¼ã‚·ãƒ¼ãƒˆ", "ãƒãƒ£ã‚¤ãƒ«ãƒ‰ã‚·ãƒ¼ãƒˆ", "ã‚«ãƒ¼ã‚·ãƒ¼ãƒˆ"],
            response: "ãƒ™ãƒ“ãƒ¼ã‚·ãƒ¼ãƒˆã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚æ–™é‡‘ã¯900ãƒ‰ãƒ«ã§ã™ðŸ‘¶"
        },
        "ko": {
            keywords: ["ì•„ê¸° ì¹´ì‹œíŠ¸", "ì¹´ì‹œíŠ¸"],
            response: "ì•„ê¸° ì¹´ì‹œíŠ¸ ì„¸ì²™í•´ ë“œë¦½ë‹ˆë‹¤. ë¹„ìš©ì€ 900ë‹¬ëŸ¬ìž…ë‹ˆë‹¤ ðŸ‘¶"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ‰‹æŽ¨è»Š"],
            response: "æˆ‘å€‘æœ‰æ¸…æ´—æ‰‹æŽ¨è»Šï¼Œå¯¶å¯¶å–®äººæ‰‹æŽ¨è»Šè²»ç”¨æ˜¯ $1200 ðŸ›’ï¼Œé›™äººæ‰‹æŽ¨è»Šè²»ç”¨æ˜¯ $1800 ðŸ›’"
        },
        "zh-CN": {
            keywords: ["æ‰‹æŽ¨è½¦"],
            response: "æˆ‘ä»¬æœ‰æ¸…æ´—æ‰‹æŽ¨è½¦ï¼Œå®å®å•äººæ‰‹æŽ¨è½¦è´¹ç”¨æ˜¯ $1200 ðŸ›’ï¼ŒåŒäººæ‰‹æŽ¨è½¦è´¹ç”¨æ˜¯ $1800 ðŸ›’"
        },
        "en": {
            keywords: ["stroller", "baby stroller", "pram"],
            response: "We clean strollers. Single baby stroller cleaning fee is $1200 ðŸ›’, double stroller is $1800 ðŸ›’"
        },
        "ja": {
            keywords: ["ãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼", "ä¹³æ¯è»Š"],
            response: "ãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚ã‚·ãƒ³ã‚°ãƒ«ãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼ã¯1200ãƒ‰ãƒ«ðŸ›’ã€äºŒäººä¹—ã‚Šãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼ã¯1800ãƒ‰ãƒ«ðŸ›’ã§ã™ã€‚"
        },
        "ko": {
            keywords: ["ìœ ëª¨ì°¨"],
            response: "ìœ ëª¨ì°¨ ì„¸ì²™í•´ ë“œë¦½ë‹ˆë‹¤. ì‹±ê¸€ ìœ ëª¨ì°¨ ì„¸ì²™ ë¹„ìš©ì€ 1200ë‹¬ëŸ¬ ðŸ›’, ìŒë‘¥ì´ ìœ ëª¨ì°¨ëŠ” 1800ë‹¬ëŸ¬ ðŸ›’ìž…ë‹ˆë‹¤."
        }
    },
    {
        "zh-TW": {
            keywords: ["æ›¸åŒ…"],
            response: "æˆ‘å€‘æœ‰æ¸…æ´—æ›¸åŒ…ï¼Œè²»ç”¨æ˜¯ $550 ðŸŽ’"
        },
        "zh-CN": {
            keywords: ["ä¹¦åŒ…"],
            response: "æˆ‘ä»¬æœ‰æ¸…æ´—ä¹¦åŒ…ï¼Œè´¹ç”¨æ˜¯ $550 ðŸŽ’"
        },
        "en": {
            keywords: ["backpack", "school bag"],
            response: "We clean backpacks, the fee is $550 ðŸŽ’"
        },
        "ja": {
            keywords: ["ãƒªãƒ¥ãƒƒã‚¯ã‚µãƒƒã‚¯", "ãƒ©ãƒ³ãƒ‰ã‚»ãƒ«", "ã‚¹ã‚¯ãƒ¼ãƒ«ãƒãƒƒã‚°"],
            response: "ãƒªãƒ¥ãƒƒã‚¯ã‚µãƒƒã‚¯ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚æ–™é‡‘ã¯550ãƒ‰ãƒ«ã§ã™ðŸŽ’"
        },
        "ko": {
            keywords: ["ì±…ê°€ë°©", "ë°°ë‚­"],
            response: "ì±…ê°€ë°© ì„¸ì²™í•´ ë“œë¦½ë‹ˆë‹¤. ë¹„ìš©ì€ 550ë‹¬ëŸ¬ìž…ë‹ˆë‹¤ ðŸŽ’"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ´—çš„æŽ‰"],
            response: "æˆ‘å€‘æœƒé‡å°æ±¡æ¼¬åšå°ˆé–€è™•ç†ï¼Œå¤§éƒ¨åˆ†æ±¡æ¼¬éƒ½å¯ä»¥è®Šæ·¡ï¼Œä½†æˆåŠŸçŽ‡è¦–æ±¡æ¼¬ç¨®é¡žèˆ‡è¡£ç‰©æè³ªè€Œå®šå–”ï¼âœ¨"
        },
        "zh-CN": {
            keywords: ["æ´—çš„æŽ‰"],
            response: "æˆ‘ä»¬ä¼šé’ˆå¯¹æ±¡æ¸åšä¸“é—¨å¤„ç†ï¼Œå¤§éƒ¨åˆ†æ±¡æ¸éƒ½å¯ä»¥å˜æ·¡ï¼Œä½†æˆåŠŸçŽ‡è§†æ±¡æ¸ç§ç±»ä¸Žè¡£ç‰©æè´¨è€Œå®šå–”ï¼âœ¨"
        },
        "en": {
            keywords: ["washable"],
            response: "We will treat stains specifically, most stains can be lightened, but the success rate depends on the type of stain and the material of the clothing! âœ¨"
        },
        "ja": {
            keywords: ["æ´—ãˆã‚‹", "è½ã¡ã‚‹"],
            response: "ã‚·ãƒŸã®ç¨®é¡žã«å¿œã˜ã¦å°‚é–€çš„ãªå‡¦ç†ã‚’è¡Œã„ã€ã»ã¨ã‚“ã©ã®ã‚·ãƒŸã¯è–„ãã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€æˆåŠŸçŽ‡ã¯ã‚·ãƒŸã®ç¨®é¡žã‚„è¡£é¡žã®ç´ æã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼âœ¨"
        },
        "ko": {
            keywords: ["ì§€ì›Œì ¸ìš”", "ì„¸íƒ ë¼ìš”"],
            response: "ì–¼ë£©ì— ëŒ€í•´ ì „ë¬¸ì ìœ¼ë¡œ ì²˜ë¦¬í•´ ë“œë¦¬ë©°, ëŒ€ë¶€ë¶„ì˜ ì–¼ë£©ì€ ì˜…ì–´ì§ˆ ìˆ˜ ìžˆì§€ë§Œ ì„±ê³µë¥ ì€ ì–¼ë£© ì¢…ë¥˜ì™€ ì˜ë¥˜ ìž¬ì§ˆì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤! âœ¨"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ´—æŽ‰"],
            response: "æˆ‘å€‘æœƒç›¡åŠ›è™•ç†æ±¡æ¼¬ï¼Œä½†æ»²é€åˆ°çº–ç¶­æˆ–æ™‚é–“è¼ƒä¹…çš„æ±¡æ¼¬å¯èƒ½ç„¡æ³•å®Œå…¨åŽ»é™¤ï¼Œè«‹è¦‹è«’ï¼ðŸ˜Š"
        },
        "zh-CN": {
            keywords: ["æ´—æŽ‰"],
            response: "æˆ‘ä»¬ä¼šå°½åŠ›å¤„ç†æ±¡æ¸ï¼Œä½†æ¸—é€åˆ°çº¤ç»´æˆ–æ—¶é—´è¾ƒä¹…çš„æ±¡æ¸å¯èƒ½æ— æ³•å®Œå…¨åŽ»é™¤ï¼Œè¯·è§è°…ï¼ðŸ˜Š"
        },
        "en": {
            keywords: ["remove stain"],
            response: "We will do our best to treat stains, but stains that have penetrated into the fibers or are old may not be completely removed, please understand! ðŸ˜Š"
        },
        "ja": {
            keywords: ["è½ã¨ã™", "é™¤åŽ»"],
            response: "ã‚·ãƒŸã®å‡¦ç†ã«ã¯æœ€å–„ã‚’å°½ãã—ã¾ã™ãŒã€ç¹Šç¶­ã«æµ¸é€ã—ãŸã‚·ãƒŸã‚„æ™‚é–“ã®çµŒéŽã—ãŸã‚·ãƒŸã¯å®Œå…¨ã«é™¤åŽ»ã§ããªã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã”äº†æ‰¿ãã ã•ã„ï¼ðŸ˜Š"
        },
        "ko": {
            keywords: ["ì§€ì›Œì£¼ì„¸ìš”", "ë¹¼ì£¼ì„¸ìš”"],
            response: "ì–¼ë£©ì„ ìµœëŒ€í•œ ì²˜ë¦¬í•´ ë“œë¦¬ê² ì§€ë§Œ, ì„¬ìœ ì— ì¹¨íˆ¬í–ˆê±°ë‚˜ ì˜¤ëž˜ëœ ì–¼ë£©ì€ ì™„ì „ížˆ ì œê±°ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤! ðŸ˜Š"
        }
    },
    {
        "zh-TW": {
            keywords: ["æŸ“è‰²"],
            response: "æŸ“è‰²å•é¡Œæˆ‘å€‘æœƒç›¡é‡è™•ç†ï¼Œä½†å¦‚æžœæ»²é€åˆ°è¡£ç‰©çº–ç¶­æˆ–é¢ç©è¼ƒå¤§ï¼Œä¸èƒ½ä¿è­‰å®Œå…¨è™•ç†å–”ï¼ðŸŒˆ"
        },
        "zh-CN": {
            keywords: ["æŸ“è‰²"],
            response: "æŸ“è‰²é—®é¢˜æˆ‘ä»¬ä¼šå°½é‡å¤„ç†ï¼Œä½†å¦‚æžœæ¸—é€åˆ°è¡£ç‰©çº¤ç»´æˆ–é¢ç§¯è¾ƒå¤§ï¼Œä¸èƒ½ä¿è¯å®Œå…¨å¤„ç†å–”ï¼ðŸŒˆ"
        },
        "en": {
            keywords: ["dyeing"],
            response: "We will try our best to deal with dyeing issues, but if it has penetrated into the clothing fibers or the area is large, complete removal cannot be guaranteed! ðŸŒˆ"
        },
        "ja": {
            keywords: ["æŸ“è‰²"],
            response: "æŸ“è‰²ã®å•é¡Œã«ã¯ã§ãã‚‹é™ã‚Šå¯¾å¿œã—ã¾ã™ãŒã€è¡£é¡žã®ç¹Šç¶­ã«æµ¸é€ã—ã¦ã„ãŸã‚Šã€é¢ç©ãŒå¤§ãã„å ´åˆã¯ã€å®Œå…¨ã«é™¤åŽ»ã§ãã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ï¼ðŸŒˆ"
        },
        "ko": {
            keywords: ["ì—¼ìƒ‰"],
            response: "ì—¼ìƒ‰ ë¬¸ì œëŠ” ìµœëŒ€í•œ ì²˜ë¦¬í•´ ë“œë¦¬ê² ì§€ë§Œ, ì˜ë¥˜ ì„¬ìœ ì— ì¹¨íˆ¬í–ˆê±°ë‚˜ ë©´ì ì´ ë„“ì€ ê²½ìš°ì—ëŠ” ì™„ì „í•œ ì²˜ë¦¬ë¥¼ ë³´ìž¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! ðŸŒˆ"
        }
    },
    {
        "zh-TW": {
            keywords: ["é€€è‰²"],
            response: "å·²ç¶“é€€è‰²çš„è¡£ç‰©æ˜¯ç„¡æ³•æ¢å¾©çš„ï¼Œè«‹è¦‹è«’ï¼ðŸŽ¨"
        },
        "zh-CN": {
            keywords: ["é€€è‰²"],
            response: "å·²ç»é€€è‰²çš„è¡£ç‰©æ˜¯æ— æ³•æ¢å¤çš„ï¼Œè¯·è§è°…ï¼ðŸŽ¨"
        },
        "en": {
            keywords: ["fading"],
            response: "Clothes that have already faded cannot be restored, please understand! ðŸŽ¨"
        },
        "ja": {
            keywords: ["é€€è‰²"],
            response: "ã™ã§ã«è‰²ã‚ã›ãŸè¡£é¡žã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚ã”äº†æ‰¿ãã ã•ã„ï¼ðŸŽ¨"
        },
        "ko": {
            keywords: ["íƒˆìƒ‰"],
            response: "ì´ë¯¸ íƒˆìƒ‰ëœ ì˜ë¥˜ëŠ” ë³µì›í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤! ðŸŽ¨"
        }
    },
    {
        "zh-TW": {
            keywords: ["åœ°æ¯¯", "æœ‰æ´—åœ°æ¯¯", "æœ‰æ¸…æ´—åœ°æ¯¯"],
            response: "æˆ‘å€‘æä¾›åœ°æ¯¯æ¸…æ´—æœå‹™ï¼Œè«‹å‘ŠçŸ¥æˆ‘å€‘æ‚¨éœ€è¦æ¸…æ´—çš„åœ°æ¯¯ç‹€æ³ï¼Œæˆ‘å€‘æœƒè·Ÿæ‚¨å›žè¦†æ¸…æ´—åƒ¹æ ¼ã€‚ðŸ§¹"
        },
        "zh-CN": {
            keywords: ["åœ°æ¯¯", "æœ‰æ´—åœ°æ¯¯", "æœ‰æ¸…æ´—åœ°æ¯¯"],
            response: "æˆ‘ä»¬æä¾›åœ°æ¯¯æ¸…æ´—æœåŠ¡ï¼Œè¯·å‘ŠçŸ¥æˆ‘ä»¬æ‚¨éœ€è¦æ¸…æ´—çš„åœ°æ¯¯çŠ¶å†µï¼Œæˆ‘ä»¬ä¼šè·Ÿæ‚¨å›žå¤æ¸…æ´—ä»·æ ¼ã€‚ðŸ§¹"
        },
        "en": {
            keywords: ["carpet", "carpet cleaning"],
            response: "We provide carpet cleaning services. Please tell us the condition of the carpet you need to clean, and we will reply with the cleaning price. ðŸ§¹"
        },
        "ja": {
            keywords: ["ã‚«ãƒ¼ãƒšãƒƒãƒˆ", "ã‚«ãƒ¼ãƒšãƒƒãƒˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°"],
            response: "ã‚«ãƒ¼ãƒšãƒƒãƒˆã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ãŠã‚Šã¾ã™ã€‚ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãŒå¿…è¦ãªã‚«ãƒ¼ãƒšãƒƒãƒˆã®çŠ¶æ…‹ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã ã‘ã‚Œã°ã€ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ–™é‡‘ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã—ã¾ã™ã€‚ðŸ§¹"
        },
        "ko": {
            keywords: ["ì¹´íŽ«", "ì¹´íŽ« ì„¸íƒ"],
            response: "ì¹´íŽ« ì„¸íƒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì„¸íƒì´ í•„ìš”í•œ ì¹´íŽ« ìƒíƒœë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ì„¸íƒ ê°€ê²©ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ðŸ§¹"
        }
    },
    {
        "zh-TW": {
            keywords: ["çª—ç°¾", "æœ‰æ´—çª—ç°¾", "æœ‰æ¸…æ´—çª—ç°¾"],
            response: "æˆ‘å€‘æä¾›çª—ç°¾æ¸…æ´—æœå‹™ï¼Œè«‹æä¾›æ‚¨çš„çª—ç°¾å°ºå¯¸å’Œæè³ªï¼Œæˆ‘å€‘æœƒè·Ÿæ‚¨å›žè¦†æ¸…æ´—åƒ¹æ ¼ã€‚ðŸªŸ"
        },
        "zh-CN": {
            keywords: ["çª—å¸˜", "æœ‰æ´—çª—å¸˜", "æœ‰æ¸…æ´—çª—å¸˜"],
            response: "æˆ‘ä»¬æä¾›çª—å¸˜æ¸…æ´—æœåŠ¡ï¼Œè¯·æä¾›æ‚¨çš„çª—å¸˜å°ºå¯¸å’Œæè´¨ï¼Œæˆ‘ä»¬ä¼šè·Ÿæ‚¨å›žå¤æ¸…æ´—ä»·æ ¼ã€‚ðŸªŸ"
        },
        "en": {
            keywords: ["curtain", "curtain cleaning"],
            response: "We provide curtain cleaning services. Please provide your curtain size and material, and we will reply with the cleaning price. ðŸªŸ"
        },
        "ja": {
            keywords: ["ã‚«ãƒ¼ãƒ†ãƒ³", "ã‚«ãƒ¼ãƒ†ãƒ³ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°"],
            response: "ã‚«ãƒ¼ãƒ†ãƒ³ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ãŠã‚Šã¾ã™ã€‚ã‚«ãƒ¼ãƒ†ãƒ³ã®ã‚µã‚¤ã‚ºã¨ç´ æã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã ã‘ã‚Œã°ã€ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°æ–™é‡‘ã‚’ãŠçŸ¥ã‚‰ã›ã„ãŸã—ã¾ã™ã€‚ðŸªŸ"
        },
        "ko": {
            keywords: ["ì»¤íŠ¼", "ì»¤íŠ¼ ì„¸íƒ"],
            response: "ì»¤íŠ¼ ì„¸íƒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì»¤íŠ¼ ì‚¬ì´ì¦ˆì™€ ìž¬ì§ˆì„ ì•Œë ¤ì£¼ì‹œë©´ ì„¸íƒ ê°€ê²©ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ðŸªŸ"
        }
    },
    {
        "zh-TW": {
            keywords: ["æ˜¯å¦èƒ½æ¸…æ´—è¡£ç‰©"],
            response: "æˆ‘å€‘æä¾›å„å¼è¡£ç‰©æ¸…æ´—æœå‹™ï¼Œç„¡è«–æ˜¯è¡£æœã€å¤–å¥—ã€è¥¯è¡«ç­‰éƒ½å¯ä»¥æ¸…æ´—ã€‚ðŸ‘•"
        },
        "zh-CN": {
            keywords: ["æ˜¯å¦èƒ½æ¸…æ´—è¡£ç‰©"],
            response: "æˆ‘ä»¬æä¾›å„å¼è¡£ç‰©æ¸…æ´—æœåŠ¡ï¼Œæ— è®ºæ˜¯è¡£æœã€å¤–å¥—ã€è¡¬è¡«ç­‰éƒ½å¯ä»¥æ¸…æ´—ã€‚ðŸ‘•"
        },
        "en": {
            keywords: ["can you wash clothes"],
            response: "We provide various clothing cleaning services, including clothes, coats, shirts, etc. ðŸ‘•"
        },
        "ja": {
            keywords: ["æœã¯æ´—ãˆã¾ã™ã‹"],
            response: "è¡£é¡žã€ã‚³ãƒ¼ãƒˆã€ã‚·ãƒ£ãƒ„ãªã©ã€æ§˜ã€…ãªè¡£é¡žã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ãŠã‚Šã¾ã™ã€‚ðŸ‘•"
        },
        "ko": {
            keywords: ["ì˜· ì„¸íƒ ê°€ëŠ¥"],
            response: "ì €í¬ëŠ” ì˜·, ì½”íŠ¸, ì…”ì¸  ë“± ë‹¤ì–‘í•œ ì˜ë¥˜ ì„¸íƒ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ðŸ‘•"
        }
    },
    {
        "zh-TW": {
            "keywords": ["æ”¶å›žäº†å—Ž", "ä¾†æ”¶äº†å—Ž", "æ”¶èµ°äº†å—Ž", "æ”¶èµ°", "æ‹¿äº†å—Ž", "æ”¶äº†å—Ž", "æ”¶ä»¶äº†å—Ž", "æ‹¿èµ°"],
            "response": "ä»Šæ—¥æœƒæ”¶å›žï¼Œæ”¶å›žä¹Ÿæœƒè·Ÿæ‚¨é€šçŸ¥çš„ðŸššã€‚"
        },
        "zh-CN": {
            "keywords": ["æ”¶å›žäº†å—", "æ¥æ”¶äº†å—", "æ”¶èµ°äº†å—", "æ”¶èµ°", "æ‹¿äº†å—", "æ”¶äº†å—", "æ”¶ä»¶äº†å—", "æ‹¿èµ°"],
            "response": "ä»Šæ—¥ä¼šæ”¶å›žï¼Œæ”¶å›žä¹Ÿä¼šè·Ÿæ‚¨é€šçŸ¥çš„ðŸššã€‚"
        },
        "en": {
            "keywords": ["picked up?", "has it been picked up?", "was it picked up?", "will it be picked up?", "is it picked up?", "collection", "collected"],
            "response": "It will be picked up today, and we will notify you when it's collected. ðŸšš"
        },
        "ja": {
            "keywords": ["å›žåŽã•ã‚Œã¾ã—ãŸã‹", "é›†è·ã•ã‚Œã¾ã—ãŸã‹", "å›žåŽæ¸ˆã¿ã§ã™ã‹", "é›†è·æ¸ˆã¿ã§ã™ã‹", "å›žåŽã¯", "é›†è·ã¯"],
            "response": "æœ¬æ—¥å›žåŽã„ãŸã—ã¾ã™ã€‚å›žåŽæ¬¡ç¬¬ã”é€£çµ¡ã„ãŸã—ã¾ã™ðŸšš"
        },
        "ko": {
            "keywords": ["ìˆ˜ê±° ëë‚˜ìš”", "ìˆ˜ê±° ì™„ë£Œ ëë‚˜ìš”", "íšŒìˆ˜ ëë‚˜ìš”", "íšŒìˆ˜ ì™„ë£Œ ëë‚˜ìš”", "ìˆ˜ê±°", "íšŒìˆ˜"],
            "response": "ì˜¤ëŠ˜ ìˆ˜ê±° ì˜ˆì •ìž…ë‹ˆë‹¤. ìˆ˜ê±° ì™„ë£Œë˜ë©´ ì•Œë ¤ë“œë¦´ê²Œìš”ðŸšš"
        }
    }
];

function detectInquiryType(text) {
    const lowerText = text.toLowerCase();

    for (const inquiry of COMBINED_INQUIRY_DATA) {
        for (const lang in inquiry) {
            if (inquiry[lang].keywords) { // Check that keywords array exists.
                for (const keyword of inquiry[lang].keywords) {
                    const lowerKeyword = keyword.toLowerCase();

                    if (lowerText.includes(lowerKeyword)) {
                        return inquiry[lang].response;
                    }
                }
            }
        }
    }

    return null; // No match found
}

// ============== åˆ¤æ–·æ˜¯å¦èˆ‡æ´—è¡£åº—ç›¸é—œ (ä½¿ç”¨é—œéµå­—åˆ—è¡¨) ============== // Keep this function, used before calling AI
function isLaundryRelatedText(text) {
    const lowerText = text.toLowerCase();
    const keywords = [
        { lang: "zh-TW", keywords: ["æ´—è¡£", "æ¸…æ´—", "æ±¡æ¼¬", "æ²¹æ¼¬", "è¡€æ¼¬", "é†¬æ²¹", "æŸ“è‰²", "é€€è‰²", "åœ°æ¯¯", "çª—ç°¾", "å¯¶å¯¶æ±½åº§", "æ±½åº§", "å…’ç«¥åº§æ¤…", "å®‰å…¨å…’ç«¥åº§æ¤…", "æ‰‹æŽ¨è»Š", "å–®äººæ‰‹æŽ¨è»Š", "å¯¶å¯¶æ‰‹æŽ¨è»Š", "æ›¸åŒ…", "ç‡Ÿæ¥­", "é–‹é–€", "ä¼‘æ¯", "é–‹åº—", "æœ‰é–‹", "æ”¶é€", "åˆ°åºœ", "ä¸Šé–€", "æ”¶è¡£", "é ç´„"] },
        { lang: "zh-CN", keywords: ["æ´—è¡£", "æ¸…æ´—", "æ±¡æ¸", "æ²¹æ¸", "è¡€æ¸", "é…±æ²¹", "æŸ“è‰²", "é€€è‰²", "åœ°æ¯¯", "çª—å¸˜", "å®å®æ±½åº§", "æ±½åº§", "å„¿ç«¥åº§æ¤…", "å®‰å…¨å„¿ç«¥åº§æ¤…", "æ‰‹æŽ¨è½¦", "å•äººæ‰‹æŽ¨è½¦", "å®å®æ‰‹æŽ¨è½¦", "ä¹¦åŒ…", "è¥ä¸š", "å¼€é—¨", "ä¼‘æ¯", "å¼€åº—", "æœ‰å¼€", "æ”¶é€", "åˆ°åºœ", "ä¸Šé—¨", "æ”¶è¡£", "é¢„çº¦"] },
        { lang: "en", keywords: ["laundry", "clean", "stain", "oil stain", "blood stain", "soy sauce", "dyeing", "fading", "carpet", "curtain", "baby car seat", "car seat", "child seat", "stroller", "baby stroller", "backpack", "open", "business hours", "pickup", "delivery", "collect clothes", "reservation"] },
        { lang: "ja", keywords: ["æ´—æ¿¯", "ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°", "æ±šã‚Œ", "æ²¹æ±šã‚Œ", "è¡€", "é†¤æ²¹", "æŸ“è‰²", "è‰²è½ã¡", "ã‚«ãƒ¼ãƒšãƒƒãƒˆ", "ã‚«ãƒ¼ãƒ†ãƒ³", "ãƒ™ãƒ“ãƒ¼ã‚·ãƒ¼ãƒˆ", "ãƒãƒ£ã‚¤ãƒ«ãƒ‰ã‚·ãƒ¼ãƒˆ", "ãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼", "ãƒ©ãƒ³ãƒ‰ã‚»ãƒ«", "å–¶æ¥­", "é–‹åº—", "ä¼‘æ†©", "ã‚ªãƒ¼ãƒ—ãƒ³", "é›†è·", "é…é”", "äºˆç´„"] },
    ]

    return keywords.some(inquiry => inquiry.keywords.some(keyword => lowerText.includes(keyword.toLowerCase())));
}

// ============== ä½¿ç”¨æ¬¡æ•¸æª¢æŸ¥ ==============
async function checkUsage(userId) {
    const key = `rate_limit:user:${userId}`;
    const now = Date.now();
    const timePeriodMs = MAX_USES_TIME_PERIOD * 1000;

    try {
        let userActions = store.get(key);
        if (!userActions) {
            userActions = [];
        }

        // ç§»é™¤éŽæœŸçš„ action æ—¶é—´æˆ³
        userActions = userActions.filter(timestamp => timestamp > now - timePeriodMs);

        if (userActions.length < MAX_USES_PER_USER) {
            userActions.push(now); // æ·»åŠ æ–°çš„ action æ—¶é—´æˆ³
            store.set(key, userActions); // æ›´æ–° store
            return true; // å…è®¸ä½¿ç”¨
        } else {
            return false; // è¾¾åˆ°é™åˆ¶ï¼Œæ‹’ç»ä½¿ç”¨
        }
    } catch (error) {
        console.error("Map å­˜å‚¨é™æµé”™è¯¯:", error);
        return true;
    }
}

// ============== æ™ºèƒ½æ±¡æ¼¬åˆ†æž ==============
async function analyzeStain(userId, imageBuffer) {
    try {
        const base64Image = imageBuffer.toString('base64');
        const imageHash = createHash('sha256').update(imageBuffer).digest('hex');

        console.log('åœ–ç‰‡å·²æŽ¥æ”¶ï¼Œhashå€¼:', imageHash);
        logToFile(`åœ–ç‰‡å·²æŽ¥æ”¶ï¼Œhashå€¼: ${imageHash}`);

        // èª¿ç”¨ OpenAI API é€²è¡Œåœ–ç‰‡åˆ†æžï¼ˆä½¿ç”¨ GPT-4o æ¨¡åž‹ï¼‰
        const openaiResponse = await openaiClient.chat.completions.create({
            model: 'gpt-4o',
            messages: [{
                role: 'system',
                content: `ä½ æ˜¯å°ˆæ¥­çš„ç²¾å“æ¸…æ½”é¡§å•ï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹æ ¼å¼åˆ†æžåœ–ç‰‡ï¼š
1. ä»¥æµæš¢å£èªžåŒ–ä¸­æ–‡æè¿°ç‰©å“èˆ‡æ±¡æ¼¬ç‹€æ³
2. æ¸…æ´—æˆåŠŸæ©ŸçŽ‡ï¼ˆç²¾ç¢ºç™¾åˆ†æ¯”ï¼‰
3. å“ç‰Œè¾¨è­˜ï¼ˆä½¿ç”¨ã€Œå¯èƒ½ç‚ºã€ã€ã€ŒæŽ¨æ¸¬ç‚ºã€ç­‰å°ˆæ¥­ç”¨èªžï¼‰
4. æè³ªåˆ†æžï¼ˆèªªæ˜Žæè³ªç‰¹æ€§èˆ‡æ¸…æ½”æ³¨æ„é»žï¼‰
5. æ¬¾å¼ç‰¹å¾µï¼ˆå°ˆæ¥­è¡“èªžæè¿°è¨­è¨ˆå…ƒç´ ï¼‰
6. è‹¥ç‚ºç²¾å“åŒ…ï¼ˆå¦‚ Louis Vuittonã€Chanelã€HermÃ¨s ç­‰ï¼‰ï¼Œè«‹æä¾›å¹´ä»½èˆ‡ç¨€æœ‰æ€§è³‡è¨Šï¼ˆè‹¥å¯è¾¨è­˜ï¼‰
7. çµå°¾çµ±ä¸€ä½¿ç”¨ï¼šã€Œæˆ‘å€‘æœƒæ ¹æ“šæè³ªç‰¹æ€§é€²è¡Œé©ç•¶æ¸…æ½”ï¼Œç¢ºä¿æœ€ä½³æ•ˆæžœã€‚ã€

è¦æ±‚ï¼š
- å®Œå…¨ä¸ç”¨ ** ç¬¦è™Ÿæˆ–ä»»ä½•æ¨™è¨˜
- å“ç‰Œ/æè³ª/æ¬¾å¼è³‡è¨Šéœ€æ˜Žç¢ºä¸”å°ˆæ¥­
- è‹¥ç‚ºç²¾å“åŒ…ï¼Œéœ€åŒ…å«ä»¥ä¸‹ç´°ç¯€ï¼š
  - å“ç‰Œè¾¨è­˜ä¾æ“šï¼ˆæ¨™èªŒ/ç¶“å…¸å…ƒç´ ï¼‰
  - æè³ªçµ„åˆï¼ˆä¾‹ï¼šå¡—å±¤å¸†å¸ƒ+çš®é©æ»¾é‚Šï¼‰
  - ç‰¹æ®Šå·¥è—ï¼ˆä¾‹ï¼šé¦¬éžç¸«ç·š/é‡‘å±¬é…ä»¶ï¼‰
  - å¹´ä»½èˆ‡ç¨€æœ‰æ€§ï¼ˆè‹¥å¯è¾¨è­˜ï¼‰
- éžç²¾å“åŒ…æˆ–ç„¡æ³•è¾¨è­˜å“ç‰Œæ™‚ï¼Œä¸æå¹´ä»½èˆ‡ç¨€æœ‰æ€§`
            }, {
                role: 'user',
                content: [
                    { type: 'text', text: 'è«‹åˆ†æžæ­¤ç‰©å“ä¸¦æä¾›å°ˆæ¥­æ¸…æ½”å»ºè­°ã€‚' },
                    { type: 'image_url', image_url: { url: `data:image/png;base64,${base64Image}` } }
                ]
            }]
        });

        // å–å¾—åˆ†æžçµæžœä¸¦ç§»é™¤å¤šé¤˜ç¬¦è™Ÿ
        let analysisResult = openaiResponse.choices[0].message.content
            .replace(/\*\*/g, '')
            .replace(/æˆ‘å€‘æœƒä»¥ä¸å‚·å®³æè³ªç›¡é‡åšæ¸…æ½”è™•ç†ã€‚/g, '');

        // ç¢ºä¿çµå°¾æ ¼å¼çµ±ä¸€
        if (!analysisResult.endsWith('ç¢ºä¿æœ€ä½³æ•ˆæžœã€‚')) {
            analysisResult += '\næˆ‘å€‘æœƒæ ¹æ“šæè³ªç‰¹æ€§é€²è¡Œé©ç•¶æ¸…æ½”ï¼Œç¢ºä¿æœ€ä½³æ•ˆæžœã€‚';
        }

        // å›žè¦†ç”¨æˆ¶
        await client.pushMessage(userId, {
            type: 'text',
            text: `${analysisResult}\n\nâœ¨ æ™ºèƒ½åˆ†æžå®Œæˆ ðŸ‘•`
        });

        // ç¾Žè§‚åœ°è¾“å‡ºæ—¥å¿—
        console.log(`\n--------------------------------------------------------`);
        console.log(`|  ç”¨æˆ¶ ${userId} çš„åœ–ç‰‡åˆ†æžçµæžœ:`);
        console.log(`--------------------------------------------------------`);
        console.log(`${analysisResult}\n\nâœ¨ æ™ºèƒ½åˆ†æžå®Œæˆ ðŸ‘•`);

        logToFile(`ç”¨æˆ¶ ${userId} çš„åœ–ç‰‡åˆ†æžçµæžœ:\n${analysisResult}\nâœ¨ æ™ºèƒ½åˆ†æžå®Œæˆ ðŸ‘•`);

    } catch (err) {
        console.error("OpenAI æœå‹™å‡ºç¾éŒ¯èª¤:", err);
        logToFile(`OpenAI æœå‹™å‡ºç¾éŒ¯èª¤: ${err}`);
        await client.pushMessage(userId, { type: 'text', text: 'æœå‹™æš«æ™‚ä¸å¯ç”¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚' });
    }
}


// ============== æ—¥å¿—è¨˜éŒ„ ==============
const logFilePath = path.join(__dirname, 'logs.txt');

function logToFile(message) {
    const timestamp = new Date().toISOString();
    const logEntry = `${timestamp} - ${message}\n`;

    fs.appendFile(logFilePath, logEntry, (err) => {
        if (err) {
            console.error('å¯«å…¥æ—¥èªŒæ–‡ä»¶å‡ºéŒ¯:', err);
        }
    });
}

// ============== æ ¸å¿ƒé‚è¼¯ ==============
app.post('/webhook', async (req, res) => {
    res.status(200).end();

    try {
        const events = req.body.events;

        for (const event of events) {
            try {
                if (event.type !== 'message' || !event.source.userId) continue;

                const userId = event.source.userId;
                let userMessage = '';
                if (event.message.type === 'text') {
                    userMessage = event.message.text.trim();
                } else if (event.message.type === 'image') {
                    userMessage = 'ä¸Šå‚³äº†ä¸€å¼µåœ–ç‰‡';
                } else {
                    userMessage = 'ç™¼é€äº†å…¶ä»–é¡žåž‹çš„è¨Šæ¯';
                }

                // è¨˜éŒ„ç”¨æˆ¶IDå’Œè¨Šæ¯å…§å®¹
                console.log(`ç”¨æˆ¶ ${userId} ç™¼é€äº†è¨Šæ¯: ${userMessage}`);
                logToFile(`ç”¨æˆ¶ ${userId} ç™¼é€äº†è¨Šæ¯: ${userMessage} (User ID: ${userId})`);

                // æ–‡å­—è¨Šæ¯
                if (event.message.type === 'text') {
                    const text = userMessage.toLowerCase(); // use the original userMessage to log to the file, use lowercase text for processing

                    // æª¢æŸ¥æ˜¯å¦åŒ…å«å¼·åˆ¶ä¸å›žæ‡‰çš„é—œéµå­—
                    const shouldIgnore = ignoredKeywords.some(keyword => text.includes(keyword.toLowerCase()));
                    if (shouldIgnore) {
                        console.log(`ç”¨æˆ¶ ${userId} çš„è¨Šæ¯èˆ‡æ´—è¡£åº—ç„¡é—œï¼Œå·²å¿½ç•¥ã€‚`);
                        logToFile(`ç”¨æˆ¶ ${userId} çš„è¨Šæ¯èˆ‡æ´—è¡£åº—ç„¡é—œï¼Œå·²å¿½ç•¥ã€‚(User ID: ${userId})`);
                        continue;
                    }

                    // 1. æŒ‰ã€Œ1ã€å•Ÿå‹•æ™ºèƒ½æ±¡æ¼¬åˆ†æž
                    if (text === '1') {
                        const usage = await checkUsage(userId);
                        if (!usage) {
                            await client.pushMessage(userId, {
                                type: 'text',
                                text: 'æ‚¨å·²é”åˆ°æ¯é€±2æ¬¡çš„ä½¿ç”¨ä¸Šé™ï¼Œè«‹ä¸‹é€±å†è©¦ã€‚'
                            })
                            continue;
                        }

                        await client.pushMessage(userId, {
                            type: 'text',
                            text: 'è«‹ä¸Šå‚³ç…§ç‰‡ï¼Œä»¥é€²è¡Œæ™ºèƒ½æ±¡æ¼¬åˆ†æžâœ¨ðŸ“·'
                        });

                        userState[userId] = { waitingForImage: true };
                        console.log(`\n--------------------------------------------------------`);
                        console.log(`|  ç”¨æˆ¶ ${userId} è¨Šæ¯: ${userMessage}`);
                        console.log(`|  Bot å›žè¦†ç”¨æˆ¶ ${userId}: è«‹ä¸Šå‚³ç…§ç‰‡ï¼Œä»¥é€²è¡Œæ™ºèƒ½æ±¡æ¼¬åˆ†æžâœ¨ðŸ“·`);
                        console.log(`--------------------------------------------------------\n`);
                        logToFile(`Bot å›žè¦†ç”¨æˆ¶ ${userId}: è«‹ä¸Šå‚³ç…§ç‰‡ï¼Œä»¥é€²è¡Œæ™ºèƒ½æ±¡æ¼¬åˆ†æžâœ¨ðŸ“·(User ID: ${userId})`);
                        continue;
                    }

                    if (["æ´—å¥½", "æ´—å¥½äº†å—Ž", "å¯ä»¥æ‹¿äº†å—Ž", "é€²åº¦", "å¥½äº†å—Ž", "å®Œæˆäº†å—Ž"].some(k => text.includes(k))) {
                        await client.pushMessage(userId, {
                            type: 'text',
                            text: 'ç‡Ÿæ¥­æ™‚é–“æœƒé¦¬ä¸ŠæŸ¥è©¢æ‚¨çš„æ¸…æ´—é€²åº¦ðŸ˜Šï¼Œä¸¦å›žè¦†æ‚¨ï¼æˆ–æ˜¯æ‚¨å¯ä»¥é€™é‚Šç·šä¸ŠæŸ¥è©¢ C.Hç²¾ç·»æ´—è¡£ è¬è¬æ‚¨ðŸ”',
                            quickReply: {
                                items: [{
                                    type: "action",
                                    action: {
                                        type: "uri",
                                        label: "C.Hç²¾ç·»æ´—è¡£",
                                        uri: "https://liff.line.me/2004612704-JnzA1qN6"
                                    }
                                }]
                            }
                        });

                        continue;
                    }

                    // 2. æª¢æ¸¬è©¢å•é¡žåž‹å’Œèªžè¨€
                    const inquiryResult = detectInquiryType(text);

                    if (inquiryResult) {
                        await client.pushMessage(userId, {
                            type: 'text',
                            text: inquiryResult
                        });

                        console.log(`\n--------------------------------------------------------`);
                        console.log(`|  ç”¨æˆ¶ ${userId} è¨Šæ¯: ${userMessage}`);
                        console.log(`|  Bot å›žè¦†ç”¨æˆ¶ ${userId}: ${inquiryResult}`);
                        console.log(`--------------------------------------------------------\n`);
                        logToFile(`Bot å›žè¦†ç”¨æˆ¶ ${userId}: ${inquiryResult}(User ID: ${userId})`);
                        continue;
                    }

                    // 3. AI å®¢æœå›žæ‡‰æ´—è¡£åº—ç›¸é—œå•é¡Œ (å¦‚æžœæ²’æœ‰åŒ¹é…åˆ°é è¨­çš„è©¢å•é¡žåž‹)
                    if (isLaundryRelatedText(text)) { // ä»ç„¶éœ€è¦åˆ¤æ–·æ˜¯å¦èˆ‡æ´—è¡£ç›¸é—œï¼Œå†è°ƒç”¨AI
                        const aiResponse = await openaiClient.chat.completions.create({
                            model: 'gpt-4',
                            messages: [{
                                role: 'system',
                                content: 'ä½ æ˜¯ä¸€å€‹æ´—è¡£åº—å®¢æœï¼Œå›žç­”éœ€æ»¿è¶³ï¼š1.ç”¨å£èªžåŒ–ä¸­æ–‡ 2.çµå°¾åŠ 1å€‹è¡¨æƒ… 3.ç¦ç”¨å°ˆæ¥­è¡“èªž 4.ä¸æåŠæ™‚é–“é•·çŸ­ 5.ç„¡æ³•å›žç­”æ™‚ä¸å›žæ‡‰ã€‚å¦‚æžœè¨Šæ¯èˆ‡æ´—è¡£åº—ç„¡é—œï¼ˆå¦‚ã€Œè¬è¬ã€ã€ã€Œæ‚¨å¥½ã€ã€ã€ŒæŒ‰éŒ¯ã€ç­‰ï¼‰ï¼Œè«‹ä¸è¦å›žæ‡‰ã€‚'
                            }, {
                                role: 'user',
                                content: text
                            }]
                        });

                        const aiText = aiResponse.choices[0].message.content;
                        if (!aiText || aiText.includes('ç„¡æ³•å›žç­”')) {
                            console.log(`ç„¡æ³•å›žç­”çš„å•é¡Œ: ${text}`);
                            logToFile(`ç„¡æ³•å›žç­”çš„å•é¡Œ: ${text}(User ID: ${userId})`);
                            continue;
                        }

                        await client.pushMessage(userId, { type: 'text', text: aiText });
                        console.log(`\n--------------------------------------------------------`);
                        console.log(`|  ç”¨æˆ¶ ${userId} è¨Šæ¯: ${userMessage}`);
                        console.log(`|  Bot (AI) å›žè¦†ç”¨æˆ¶ ${userId}: ${aiText}`);
                        console.log(`--------------------------------------------------------\n`);
                        logToFile(`Bot (AI) å›žè¦†ç”¨æˆ¶ ${userId}: ${aiText}(User ID: ${userId})`);
                    } else {
                        console.log(`ç”¨æˆ¶ ${userId} çš„è¨Šæ¯èˆ‡æ´—è¡£åº—ç„¡é—œï¼Œä¸ä½¿ç”¨AIå›žæ‡‰ã€‚`);
                        logToFile(`ç”¨æˆ¶ ${userId} çš„è¨Šæ¯èˆ‡æ´—è¡£åº—ç„¡é—œï¼Œä¸ä½¿ç”¨AIå›žæ‡‰ã€‚(User ID: ${userId})`);
                    }


                }

                // åœ–ç‰‡è¨Šæ¯ï¼ˆæ™ºèƒ½æ±¡æ¼¬åˆ†æžï¼‰
                if (event.message.type === 'image') {
                    try {
                        console.log(`æ”¶åˆ°ä¾†è‡ª ${userId} çš„åœ–ç‰‡è¨Šæ¯, æ­£åœ¨è™•ç†...`);
                        logToFile(`æ”¶åˆ°ä¾†è‡ª ${userId} çš„åœ–ç‰‡è¨Šæ¯, æ­£åœ¨è™•ç†...(User ID: ${userId})`);

                        // å¾ž LINE ç²å–åœ–ç‰‡å…§å®¹
                        const stream = await client.getMessageContent(event.message.id);
                        const chunks = [];

                        // ä¸‹è¼‰åœ–ç‰‡ä¸¦æ‹¼æŽ¥ç‚ºä¸€å€‹Buffer
                        for await (const chunk of stream) {
                            chunks.push(chunk);
                        }

                        const buffer = Buffer.concat(chunks);

                        // å¦‚æžœç”¨æˆ¶æ­£åœ¨ç­‰å¾…åœ–ç‰‡ï¼Œå‰‡ç›´æŽ¥é€²è¡Œåˆ†æžï¼ˆä¸å†ä¸»å‹•æç¤ºï¼‰
                        if (userState[userId] && userState[userId].waitingForImage) {
                            await analyzeStain(userId, buffer);
                            delete userState[userId];
                        }
                    } catch (err) {
                        console.error("è™•ç†åœ–ç‰‡æ™‚å‡ºéŒ¯:", err);
                        logToFile(`è™•ç†åœ–ç‰‡æ™‚å‡ºéŒ¯: ${err}(User ID: ${userId})`);
                        await client.pushMessage(userId, { type: 'text', text: 'æœå‹™æš«æ™‚ä¸å¯ç”¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚' });
                        console.log(`\n--------------------------------------------------------`);
                        console.log(`|  ç”¨æˆ¶ ${userId} è¨Šæ¯: ${userMessage}`);
                        console.log(`|  Bot å›žè¦†ç”¨æˆ¶ ${userId}: æœå‹™æš«æ™‚ä¸å¯ç”¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚`);
                        console.log(`--------------------------------------------------------\n`);
                        logToFile(`Bot å›žè¦†ç”¨æˆ¶ ${userId}: æœå‹™æš«æ™‚ä¸å¯ç”¨ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚(User ID: ${userId})`);
                    }
                }
            } catch (err) {
                console.error('è™•ç†äº‹ä»¶æ™‚å‡ºéŒ¯:', err);
                logToFile(`è™•ç†äº‹ä»¶æ™‚å‡ºéŒ¯: ${err}(User ID: ${userId})`);
            }
        }
    } catch (err) {
        console.error('å…¨å±€éŒ¯èª¤:', err);
        logToFile(`å…¨å±€éŒ¯èª¤: ${err}(User ID: ${userId})`);
    }
});

// ============== ä¸‹è¼‰æ—¥èªŒæ–‡ä»¶ ==============
app.get('/log', (req, res) => {
    res.download(logFilePath, 'logs.txt', (err) => {
        if (err) {
            console.error('ä¸‹è¼‰æ—¥èªŒæ–‡ä»¶å‡ºéŒ¯:', err);
            res.status(500).send('ä¸‹è¼‰æ–‡ä»¶å¤±æ•—');
        }
    });
});

// å•Ÿå‹•ä¼ºæœå™¨
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`ä¼ºæœå™¨æ­£åœ¨é‹è¡Œï¼Œç«¯å£ï¼š${PORT}`);
    logToFile(`ä¼ºæœå™¨æ­£åœ¨é‹è¡Œï¼Œç«¯å£ï¼š${PORT}`);
});